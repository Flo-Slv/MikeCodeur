/*! For license information please see 15.297f438f.chunk.js.LICENSE.txt */
(this["webpackJsonp@mikecodeur/react-hooks-avances"]=this["webpackJsonp@mikecodeur/react-hooks-avances"]||[]).push([[15],{268:function(e,r,t){"use strict";t.r(r);var n=t(7),c=t(0),a=t(94),u=t(326),o=(t(327),t(324)),s=function(e,r){switch(r.type){case"fetching":return{status:"fetching",data:null,error:null};case"done":return{status:"done",data:r.payload,error:null};case"fail":return{status:"fail",data:null,error:r.error};default:throw new Error("Action non support\xe9")}};function i(){var e=c.useReducer(s,{data:null,error:null,status:"idle"}),r=Object(n.a)(e,2),t=r[0],a=r[1];return{data:t.data,error:t.error,status:t.status,execute:c.useCallback((function(e){a({type:"fetching"}),e.then((function(e){return a({type:"done",payload:e})})).catch((function(e){return a({type:"fail",error:e})}))}),[])}}function l(e){var r=function(e){var r=i(),t=r.data,n=r.error,a=r.status,o=r.execute;return c.useEffect((function(){e&&o(Object(u.d)(e))}),[e,o]),{data:t,error:n,status:a}}(e.marvelName),t=r.data,n=r.error,a=r.status;if("fail"===a)throw n;return"idle"===a?"enter un nom de Marvel":"fetching"===a?"chargement en cours ...":"done"===a?Object(o.jsx)(u.b,{marvel:t}):void 0}function d(e){var r=function(e){var r=i(),t=r.data,n=r.error,a=r.status,o=r.execute;return c.useEffect((function(){e&&o(Object(u.f)(e))}),[e,o]),{data:t,error:n,status:a}}(e.marvelName),t=r.data,n=r.error,a=r.status;if("fail"===a)throw n;return"idle"===a?"enter un nom de Marvel":"fetching"===a?"chargement en cours ...":"done"===a?Object(o.jsx)(o.Fragment,{children:t.map((function(e){return Object(o.jsxs)("div",{children:[Object(o.jsx)("hr",{style:{background:"grey"}}),Object(o.jsx)(u.b,{marvel:e})]},e.id)}))}):void 0}r.default=function(){var e=c.useState(""),r=Object(n.a)(e,2),t=r[0],s=r[1],i=c.useState(""),h=Object(n.a)(i,2),f=h[0],j=h[1];return Object(o.jsxs)("div",{className:"marvel-app",children:[Object(o.jsxs)("label",{children:[Object(o.jsx)("input",{type:"checkbox",checked:f,onChange:function(e){return j(e.target.checked)}})," ","Chercher une liste ?"]}),Object(o.jsx)(u.c,{marvelName:t,onSearch:function(e){s(e)}}),Object(o.jsx)("div",{className:"marvel-detail",children:Object(o.jsx)(a.ErrorBoundary,{FallbackComponent:u.a,children:f?Object(o.jsx)(d,{marvelName:t}):Object(o.jsx)(l,{marvelName:t})},t)})]})}},324:function(e,r,t){"use strict";e.exports=t(325)},325:function(e,r,t){"use strict";t(93);var n=t(0),c=60103;if(r.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;c=a("react.element"),r.Fragment=a("react.fragment")}var u=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function i(e,r,t){var n,a={},i=null,l=null;for(n in void 0!==t&&(i=""+t),void 0!==r.key&&(i=""+r.key),void 0!==r.ref&&(l=r.ref),r)o.call(r,n)&&!s.hasOwnProperty(n)&&(a[n]=r[n]);if(e&&e.defaultProps)for(n in r=e.defaultProps)void 0===a[n]&&(a[n]=r[n]);return{$$typeof:c,type:e,key:i,ref:l,props:a,_owner:u.current}}r.jsx=i,r.jsxs=i},326:function(e,r,t){"use strict";t.d(r,"b",(function(){return d})),t.d(r,"c",(function(){return h})),t.d(r,"d",(function(){return s})),t.d(r,"a",(function(){return f})),t.d(r,"e",(function(){return i})),t.d(r,"f",(function(){return l}));var n=t(7),c=t(0),a=t(324),u="5a4bd353e754599ed13518c2f87509df",o={method:"GET",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"}),mode:"cors"},s=function(e){var r="https://gateway.marvel.com:443/v1/public/characters?apikey=".concat(u,"&nameStartsWith=").concat(e);return fetch(r,o).then((function(e){return e.json()})).then((function(r){return r.data.results.length>0?r.data.results[0]:Promise.reject(new Error('Aucun Marvel trouv\xe9 avec le nom "'.concat(e,'"')))})).catch((function(r){return Promise.reject(new Error('Aucun Marvel trouv\xe9 avec le nom "'.concat(e,'"')))}))},i=function(e){var r="https://gateway.marvel.com:443/v1/public/characters/".concat(e,"?apikey=").concat(u);return fetch(r,o).then((function(e){return e.json()})).then((function(r){return r.data.results.length>0?r.data.results[0]:Promise.reject(new Error("Aucun Marvel trouv\xe9 avec l'id \"".concat(e,'"')))})).catch((function(r){return Promise.reject(new Error("Aucun Marvel trouv\xe9 avec l'id \"".concat(e,'"')))}))},l=function(e){var r="https://gateway.marvel.com:443/v1/public/characters?apikey=".concat(u,"&nameStartsWith=").concat(e);return fetch(r,o).then((function(e){return e.json()})).then((function(r){return r.data.results.length>0?r.data.results:Promise.reject(new Error('Aucun Marvel trouv\xe9 avec le nom "'.concat(e,'"')))})).catch((function(r){return Promise.reject(new Error('Aucun Marvel trouv\xe9 avec le nom "'.concat(e,'"')))}))};function d(e){var r=e.marvel;return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"marvel-img",children:Object(a.jsx)("img",{height:"400",src:r.thumbnail.path+"."+r.thumbnail.extension,alt:r.name})}),Object(a.jsx)("div",{className:"marvel-name",children:Object(a.jsxs)("h1",{children:[r.name,Object(a.jsx)("sup",{children:r.number})]})}),Object(a.jsxs)("div",{className:"marvel-wrapper",children:[Object(a.jsx)("h3",{children:"Apparait dans"}),Object(a.jsx)("ul",{children:r.series.items.map((function(e,r){return Object(a.jsxs)("li",{children:[Object(a.jsx)("label",{children:e.name}),":"," "]},r)}))})]})]})}function h(e){var r=e.onSearch,t=e.marvelName,u=c.useState(t),o=Object(n.a)(u,2),s=o[0],i=o[1];return Object(a.jsxs)("div",{className:"component-header",children:[Object(a.jsxs)("div",{children:["Recherche Marvel (",Object(a.jsx)("span",{onClick:function(e){return i("x-men")},children:"x-men"}),","," ",Object(a.jsx)("span",{onClick:function(e){return i("spider-man")},children:"spider-man"})," ...)"]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{type:"text",value:s,onChange:function(e){return i(e.target.value)}}),Object(a.jsx)("input",{type:"button",onClick:function(){return r(s)},value:"rechercher"})]})]})}function f(e){var r=e.error;return Object(a.jsxs)("div",{style:{color:"red"},children:["Une erreur est survenue lors de la recherche de Marvel detail :"," ",Object(a.jsxs)("pre",{style:{color:"grey"},children:[" D\xe9tail : ",r.message]})]})}},327:function(e,r,t){}}]);
//# sourceMappingURL=15.297f438f.chunk.js.map