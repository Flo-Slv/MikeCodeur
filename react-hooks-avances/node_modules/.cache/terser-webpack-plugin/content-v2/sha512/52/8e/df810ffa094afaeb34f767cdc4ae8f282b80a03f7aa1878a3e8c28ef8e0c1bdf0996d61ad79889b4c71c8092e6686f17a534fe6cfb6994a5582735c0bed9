{"code":"(this[\"webpackJsonp@mikecodeur/react-hooks-avances\"]=this[\"webpackJsonp@mikecodeur/react-hooks-avances\"]||[]).push([[19],{276:function(e,t,r){\"use strict\";r.r(t);var n=r(7),a=r(21),c=r(83),o=r(0),u=r(94),s=r(326),i=(r(327),r(324)),l=function(e){return\"`Expiration \".concat(e.expire,\"  : ` => Elements :\").concat(e.data.length)},d=o.createContext();function v(e,t){var r=Date.now()+1e4;switch(t.type){case\"ADD_MARVEL\":return Object(c.a)(Object(c.a)({},e),{},Object(a.a)({},t.marvelName,{data:t.marvelData,expire:r}));case\"ADD_MARVEL_LIST\":return Object(c.a)(Object(c.a)({},e),{},Object(a.a)({},\"\".concat(t.marvelName,\"-list\"),{data:t.marvelData,expire:r}));default:throw new Error(\"action impossible: \".concat(t.type))}}function h(e){var t=o.useReducer(v,{}),r=Object(n.a)(t,2),a=r[0],u=r[1];return Object(i.jsx)(d.Provider,Object(c.a)({value:[a,u]},e))}function f(){var e=o.useContext(d);if(!e)throw new Error(\"useMarvelCache doit \\xeatre utilis\\xe9 avec MarvelCacheProvider\");return e}var j=function(e,t){switch(t.type){case\"fetching\":return{status:\"fetching\",data:null,error:null};case\"done\":return{status:\"done\",data:t.payload,error:null};case\"fail\":return{status:\"fail\",data:null,error:t.error};default:throw new Error(\"Action non support\\xe9\")}};function m(){var e=o.useReducer(j,{data:null,error:null,status:\"idle\"}),t=Object(n.a)(e,2),r=t[0],a=t[1];return{data:r.data,error:r.error,status:r.status,execute:o.useCallback((function(e){a({type:\"fetching\"}),e.then((function(e){return a({type:\"done\",payload:e})})).catch((function(e){return a({type:\"fail\",error:e})}))}),[]),setData:o.useCallback((function(e){return a({type:\"done\",payload:e})}),[a])}}function b(e){var t=function(e){var t=f(),r=Object(n.a)(t,2),a=r[0],c=r[1];o.useDebugValue(a);var u=m(),i=u.data,l=u.error,d=u.status,v=u.execute,h=u.setData;return o.useEffect((function(){var t;e&&((null===(t=a[e])||void 0===t?void 0:t.data)&&Date.now()<a[e].expire?h(a[e].data):v(Object(s.d)(e).then((function(t){return c({type:\"ADD_MARVEL\",marvelName:e,marvelData:t}),t}))))}),[e,v,a,h,c]),{data:i,error:l,status:d}}(e.marvelName,s.e),r=t.data,a=t.error,c=t.status;if(\"fail\"===c)throw a;return\"idle\"===c?\"enter un nom de Marvel\":\"fetching\"===c?\"chargement en cours ...\":\"done\"===c?Object(i.jsx)(s.b,{marvel:r}):void 0}function p(e){var t=function(e){var t=f(),r=Object(n.a)(t,2),a=r[0],c=r[1];o.useDebugValue(a[\"\".concat(e,\"-list\")],l);var u=m(),i=u.data,d=u.error,v=u.status,h=u.execute,j=u.setData;return o.useEffect((function(){var t;e&&((null===(t=a[\"\".concat(e,\"-list\")])||void 0===t?void 0:t.data)&&Date.now()<a[\"\".concat(e,\"-list\")].expire?j(a[\"\".concat(e,\"-list\")].data):h(Object(s.f)(e).then((function(t){return c({type:\"ADD_MARVEL_LIST\",marvelName:e,marvelData:t}),t}))))}),[e,h,a,j,c]),{data:i,error:d,status:v}}(e.marvelName,s.e),r=t.data,a=t.error,c=t.status;if(\"fail\"===c)throw a;return\"idle\"===c?\"enter un nom de Marvel\":\"fetching\"===c?\"chargement en cours ...\":\"done\"===c?Object(i.jsx)(i.Fragment,{children:r.map((function(e){return Object(i.jsxs)(\"div\",{children:[Object(i.jsx)(\"hr\",{style:{background:\"grey\"}}),Object(i.jsx)(s.b,{marvel:e})]},e.id)}))}):void 0}t.default=function(){var e=o.useState(\"\"),t=Object(n.a)(e,2),r=t[0],a=t[1],c=o.useState(\"\"),l=Object(n.a)(c,2),d=l[0],v=l[1];return Object(i.jsxs)(\"div\",{className:\"marvel-app\",children:[Object(i.jsxs)(\"label\",{children:[Object(i.jsx)(\"input\",{type:\"checkbox\",checked:d,onChange:function(e){return v(e.target.checked)}}),\" \",\"Chercher une liste ?\"]}),Object(i.jsx)(s.c,{marvelName:r,onSearch:function(e){a(e)}}),Object(i.jsx)(h,{children:Object(i.jsx)(\"div\",{className:\"marvel-detail\",children:Object(i.jsx)(u.ErrorBoundary,{FallbackComponent:s.a,children:d?Object(i.jsx)(p,{marvelName:r}):Object(i.jsx)(b,{marvelName:r})},r)})})]})}},324:function(e,t,r){\"use strict\";e.exports=r(325)},325:function(e,t,r){\"use strict\";r(93);var n=r(0),a=60103;if(t.Fragment=60107,\"function\"===typeof Symbol&&Symbol.for){var c=Symbol.for;a=c(\"react.element\"),t.Fragment=c(\"react.fragment\")}var o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function i(e,t,r){var n,c={},i=null,l=null;for(n in void 0!==r&&(i=\"\"+r),void 0!==t.key&&(i=\"\"+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,n)&&!s.hasOwnProperty(n)&&(c[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===c[n]&&(c[n]=t[n]);return{$$typeof:a,type:e,key:i,ref:l,props:c,_owner:o.current}}t.jsx=i,t.jsxs=i},326:function(e,t,r){\"use strict\";r.d(t,\"b\",(function(){return d})),r.d(t,\"c\",(function(){return v})),r.d(t,\"d\",(function(){return s})),r.d(t,\"a\",(function(){return h})),r.d(t,\"e\",(function(){return i})),r.d(t,\"f\",(function(){return l}));var n=r(7),a=r(0),c=r(324),o=\"5a4bd353e754599ed13518c2f87509df\",u={method:\"GET\",headers:new Headers({\"Content-Type\":\"application/x-www-form-urlencoded\"}),mode:\"cors\"},s=function(e){var t=\"https://gateway.marvel.com:443/v1/public/characters?apikey=\".concat(o,\"&nameStartsWith=\").concat(e);return fetch(t,u).then((function(e){return e.json()})).then((function(t){return t.data.results.length>0?t.data.results[0]:Promise.reject(new Error('Aucun Marvel trouv\\xe9 avec le nom \"'.concat(e,'\"')))})).catch((function(t){return Promise.reject(new Error('Aucun Marvel trouv\\xe9 avec le nom \"'.concat(e,'\"')))}))},i=function(e){var t=\"https://gateway.marvel.com:443/v1/public/characters/\".concat(e,\"?apikey=\").concat(o);return fetch(t,u).then((function(e){return e.json()})).then((function(t){return t.data.results.length>0?t.data.results[0]:Promise.reject(new Error(\"Aucun Marvel trouv\\xe9 avec l'id \\\"\".concat(e,'\"')))})).catch((function(t){return Promise.reject(new Error(\"Aucun Marvel trouv\\xe9 avec l'id \\\"\".concat(e,'\"')))}))},l=function(e){var t=\"https://gateway.marvel.com:443/v1/public/characters?apikey=\".concat(o,\"&nameStartsWith=\").concat(e);return fetch(t,u).then((function(e){return e.json()})).then((function(t){return t.data.results.length>0?t.data.results:Promise.reject(new Error('Aucun Marvel trouv\\xe9 avec le nom \"'.concat(e,'\"')))})).catch((function(t){return Promise.reject(new Error('Aucun Marvel trouv\\xe9 avec le nom \"'.concat(e,'\"')))}))};function d(e){var t=e.marvel;return Object(c.jsxs)(\"div\",{children:[Object(c.jsx)(\"div\",{className:\"marvel-img\",children:Object(c.jsx)(\"img\",{height:\"400\",src:t.thumbnail.path+\".\"+t.thumbnail.extension,alt:t.name})}),Object(c.jsx)(\"div\",{className:\"marvel-name\",children:Object(c.jsxs)(\"h1\",{children:[t.name,Object(c.jsx)(\"sup\",{children:t.number})]})}),Object(c.jsxs)(\"div\",{className:\"marvel-wrapper\",children:[Object(c.jsx)(\"h3\",{children:\"Apparait dans\"}),Object(c.jsx)(\"ul\",{children:t.series.items.map((function(e,t){return Object(c.jsxs)(\"li\",{children:[Object(c.jsx)(\"label\",{children:e.name}),\":\",\" \"]},t)}))})]})]})}function v(e){var t=e.onSearch,r=e.marvelName,o=a.useState(r),u=Object(n.a)(o,2),s=u[0],i=u[1];return Object(c.jsxs)(\"div\",{className:\"component-header\",children:[Object(c.jsxs)(\"div\",{children:[\"Recherche Marvel (\",Object(c.jsx)(\"span\",{onClick:function(e){return i(\"x-men\")},children:\"x-men\"}),\",\",\" \",Object(c.jsx)(\"span\",{onClick:function(e){return i(\"spider-man\")},children:\"spider-man\"}),\" ...)\"]}),Object(c.jsxs)(\"div\",{children:[Object(c.jsx)(\"input\",{type:\"text\",value:s,onChange:function(e){return i(e.target.value)}}),Object(c.jsx)(\"input\",{type:\"button\",onClick:function(){return t(s)},value:\"rechercher\"})]})]})}function h(e){var t=e.error;return Object(c.jsxs)(\"div\",{style:{color:\"red\"},children:[\"Une erreur est survenue lors de la recherche de Marvel detail :\",\" \",Object(c.jsxs)(\"pre\",{style:{color:\"grey\"},children:[\" D\\xe9tail : \",t.message]})]})}},327:function(e,t,r){}}]);","name":"static/js/19.cf5a9f4d.chunk.js","map":{"version":3,"sources":["static/js/19.cf5a9f4d.chunk.js"],"names":["this","push","276","module","__webpack_exports__","__webpack_require__","r","_home_floslv_Flo_Dev_Learning_MikeCodeur_react_hooks_avances_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","_home_floslv_Flo_Dev_Learning_MikeCodeur_react_hooks_avances_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","_home_floslv_Flo_Dev_Learning_MikeCodeur_react_hooks_avances_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_3__","react_error_boundary__WEBPACK_IMPORTED_MODULE_4__","_marvel__WEBPACK_IMPORTED_MODULE_5__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__","cacheFormatDebugValue","cache","concat","expire","data","length","MarvelCacheContext","marvelCacheReducer","state","action","Date","now","type","Object","marvelName","marvelData","Error","MarvelCacheProvider","props","_React$useReducer","_React$useReducer2","dispatch","Provider","value","useMarvelCache","context","reducer","status","error","payload","useFetchData","_React$useReducer3","_React$useReducer4","execute","promise","then","marvel","setData","Marvel","_ref","_useMarvelCache","_useMarvelCache2","_useFetchData","_cache$marvelName","useFindMarvelByName","MarvelList","_ref2","_useMarvelCache3","_useMarvelCache4","_useFetchData2","_cache$","useFindMarvelList","marvels","children","map","style","background","id","_React$useState","_React$useState2","setMarvelName","_React$useState3","_React$useState4","searchList","setSearchList","className","checked","onChange","e","target","onSearch","name","FallbackComponent","324","exports","325","f","g","Fragment","Symbol","h","m","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","n","prototype","hasOwnProperty","p","key","ref","__self","__source","q","c","a","k","b","d","l","call","defaultProps","$$typeof","_owner","current","jsx","jsxs","326","MarvelPersoView","MarvelSearchForm","fetchMarvel","ErrorDisplay","fetchMarvelById","fetchMarvelsList","react__WEBPACK_IMPORTED_MODULE_1__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__","marvelApiKey","init","method","headers","Headers","Content-Type","mode","url","fetch","response","json","results","Promise","reject","height","src","thumbnail","path","extension","alt","number","series","items","serie","idx","setName","onClick","_ref3","color","message","327"],"mappings":"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"},"input":"(this[\"webpackJsonp@mikecodeur/react-hooks-avances\"] = this[\"webpackJsonp@mikecodeur/react-hooks-avances\"] || []).push([[19],{\n\n/***/ 276:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _home_floslv_Flo_Dev_Learning_MikeCodeur_react_hooks_avances_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7);\n/* harmony import */ var _home_floslv_Flo_Dev_Learning_MikeCodeur_react_hooks_avances_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(21);\n/* harmony import */ var _home_floslv_Flo_Dev_Learning_MikeCodeur_react_hooks_avances_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(83);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_error_boundary__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(94);\n/* harmony import */ var react_error_boundary__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_error_boundary__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _marvel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(326);\n/* harmony import */ var _02_styles_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(327);\n/* harmony import */ var _02_styles_css__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_02_styles_css__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(324);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__);\n// useDebugValue\n// http://localhost:3000/alone/final/0.js\nvar cacheFormatDebugValue=function cacheFormatDebugValue(cache){return\"`Expiration \".concat(cache.expire,\"  : ` => Elements :\").concat(cache.data.length);};var MarvelCacheContext=/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3__[\"createContext\"]();function marvelCacheReducer(state,action){var ttl=1000*10;var expire=Date.now()+ttl;switch(action.type){case'ADD_MARVEL':{return Object(_home_floslv_Flo_Dev_Learning_MikeCodeur_react_hooks_avances_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(Object(_home_floslv_Flo_Dev_Learning_MikeCodeur_react_hooks_avances_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])({},state),{},Object(_home_floslv_Flo_Dev_Learning_MikeCodeur_react_hooks_avances_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])({},action.marvelName,{data:action.marvelData,expire:expire}));}case'ADD_MARVEL_LIST':{return Object(_home_floslv_Flo_Dev_Learning_MikeCodeur_react_hooks_avances_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(Object(_home_floslv_Flo_Dev_Learning_MikeCodeur_react_hooks_avances_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])({},state),{},Object(_home_floslv_Flo_Dev_Learning_MikeCodeur_react_hooks_avances_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])({},\"\".concat(action.marvelName,\"-list\"),{data:action.marvelData,expire:expire}));}default:{throw new Error(\"action impossible: \".concat(action.type));}}}function MarvelCacheProvider(props){var _React$useReducer=react__WEBPACK_IMPORTED_MODULE_3__[\"useReducer\"](marvelCacheReducer,{}),_React$useReducer2=Object(_home_floslv_Flo_Dev_Learning_MikeCodeur_react_hooks_avances_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_React$useReducer,2),cache=_React$useReducer2[0],dispatch=_React$useReducer2[1];return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(MarvelCacheContext.Provider,Object(_home_floslv_Flo_Dev_Learning_MikeCodeur_react_hooks_avances_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])({value:[cache,dispatch]},props));}function useMarvelCache(){var context=react__WEBPACK_IMPORTED_MODULE_3__[\"useContext\"](MarvelCacheContext);if(!context){throw new Error('useMarvelCache doit être utilisé avec MarvelCacheProvider');}return context;}var reducer=function reducer(state,action){switch(action.type){case'fetching':return{status:'fetching',data:null,error:null};case'done':return{status:'done',data:action.payload,error:null};case'fail':return{status:'fail',data:null,error:action.error};default:throw new Error('Action non supporté');}};function useFetchData(){var _React$useReducer3=react__WEBPACK_IMPORTED_MODULE_3__[\"useReducer\"](reducer,{data:null,error:null,status:'idle'}),_React$useReducer4=Object(_home_floslv_Flo_Dev_Learning_MikeCodeur_react_hooks_avances_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_React$useReducer3,2),state=_React$useReducer4[0],dispatch=_React$useReducer4[1];var data=state.data,error=state.error,status=state.status;var execute=react__WEBPACK_IMPORTED_MODULE_3__[\"useCallback\"](function(promise){dispatch({type:'fetching'});promise.then(function(marvel){return dispatch({type:'done',payload:marvel});})[\"catch\"](function(error){return dispatch({type:'fail',error:error});});},[]);var setData=react__WEBPACK_IMPORTED_MODULE_3__[\"useCallback\"](function(data){return dispatch({type:'done',payload:data});},[dispatch]);return{data:data,error:error,status:status,execute:execute,setData:setData};}function useFindMarvelByName(marvelName){var _useMarvelCache=useMarvelCache(),_useMarvelCache2=Object(_home_floslv_Flo_Dev_Learning_MikeCodeur_react_hooks_avances_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useMarvelCache,2),cache=_useMarvelCache2[0],dispatch=_useMarvelCache2[1];react__WEBPACK_IMPORTED_MODULE_3__[\"useDebugValue\"](cache);var _useFetchData=useFetchData(),data=_useFetchData.data,error=_useFetchData.error,status=_useFetchData.status,execute=_useFetchData.execute,setData=_useFetchData.setData;react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"](function(){var _cache$marvelName;if(!marvelName){return;}else if(((_cache$marvelName=cache[marvelName])===null||_cache$marvelName===void 0?void 0:_cache$marvelName.data)&&Date.now()<cache[marvelName].expire){setData(cache[marvelName].data);}else{execute(Object(_marvel__WEBPACK_IMPORTED_MODULE_5__[/* fetchMarvel */ \"d\"])(marvelName).then(function(marvelData){dispatch({type:'ADD_MARVEL',marvelName:marvelName,marvelData:marvelData});return marvelData;}));}},[marvelName,execute,cache,setData,dispatch]);return{data:data,error:error,status:status};}function useFindMarvelList(marvelName){var _useMarvelCache3=useMarvelCache(),_useMarvelCache4=Object(_home_floslv_Flo_Dev_Learning_MikeCodeur_react_hooks_avances_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_useMarvelCache3,2),cache=_useMarvelCache4[0],dispatch=_useMarvelCache4[1];react__WEBPACK_IMPORTED_MODULE_3__[\"useDebugValue\"](cache[\"\".concat(marvelName,\"-list\")],cacheFormatDebugValue);var _useFetchData2=useFetchData(),data=_useFetchData2.data,error=_useFetchData2.error,status=_useFetchData2.status,execute=_useFetchData2.execute,setData=_useFetchData2.setData;react__WEBPACK_IMPORTED_MODULE_3__[\"useEffect\"](function(){var _cache$;if(!marvelName){return;}else if(((_cache$=cache[\"\".concat(marvelName,\"-list\")])===null||_cache$===void 0?void 0:_cache$.data)&&Date.now()<cache[\"\".concat(marvelName,\"-list\")].expire){setData(cache[\"\".concat(marvelName,\"-list\")].data);}else{execute(Object(_marvel__WEBPACK_IMPORTED_MODULE_5__[/* fetchMarvelsList */ \"f\"])(marvelName).then(function(marvelData){dispatch({type:'ADD_MARVEL_LIST',marvelName:marvelName,marvelData:marvelData});return marvelData;}));}},[marvelName,execute,cache,setData,dispatch]);return{data:data,error:error,status:status};}function Marvel(_ref){var marvelName=_ref.marvelName;var state=useFindMarvelByName(marvelName,_marvel__WEBPACK_IMPORTED_MODULE_5__[/* fetchMarvelById */ \"e\"]);var marvel=state.data,error=state.error,status=state.status;if(status==='fail'){throw error;}else if(status==='idle'){return'enter un nom de Marvel';}else if(status==='fetching'){return'chargement en cours ...';}else if(status==='done'){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(_marvel__WEBPACK_IMPORTED_MODULE_5__[/* MarvelPersoView */ \"b\"],{marvel:marvel});}}function MarvelList(_ref2){var marvelName=_ref2.marvelName;var state=useFindMarvelList(marvelName,_marvel__WEBPACK_IMPORTED_MODULE_5__[/* fetchMarvelById */ \"e\"]);var marvels=state.data,error=state.error,status=state.status;if(status==='fail'){throw error;}else if(status==='idle'){return'enter un nom de Marvel';}else if(status==='fetching'){return'chargement en cours ...';}else if(status==='done'){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"Fragment\"],{children:marvels.map(function(marvel){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(\"hr\",{style:{background:'grey'}}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(_marvel__WEBPACK_IMPORTED_MODULE_5__[/* MarvelPersoView */ \"b\"],{marvel:marvel})]},marvel.id);})});}}function App(){var _React$useState=react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"](''),_React$useState2=Object(_home_floslv_Flo_Dev_Learning_MikeCodeur_react_hooks_avances_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_React$useState,2),marvelName=_React$useState2[0],setMarvelName=_React$useState2[1];var _React$useState3=react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"](''),_React$useState4=Object(_home_floslv_Flo_Dev_Learning_MikeCodeur_react_hooks_avances_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_React$useState3,2),searchList=_React$useState4[0],setSearchList=_React$useState4[1];var handleSearch=function handleSearch(name){setMarvelName(name);};return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsxs\"])(\"div\",{className:\"marvel-app\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsxs\"])(\"label\",{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(\"input\",{type:\"checkbox\",checked:searchList,onChange:function onChange(e){return setSearchList(e.target.checked);}}),' ',\"Chercher une liste ?\"]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(_marvel__WEBPACK_IMPORTED_MODULE_5__[/* MarvelSearchForm */ \"c\"],{marvelName:marvelName,onSearch:handleSearch}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(MarvelCacheProvider,{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(\"div\",{className:\"marvel-detail\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(react_error_boundary__WEBPACK_IMPORTED_MODULE_4__[\"ErrorBoundary\"],{FallbackComponent:_marvel__WEBPACK_IMPORTED_MODULE_5__[/* ErrorDisplay */ \"a\"],children:searchList?/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(MarvelList,{marvelName:marvelName}):/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__[\"jsx\"])(Marvel,{marvelName:marvelName})},marvelName)})})]});}/* harmony default export */ __webpack_exports__[\"default\"] = (App);\n\n/***/ }),\n\n/***/ 324:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nif (true) {\n  module.exports = __webpack_require__(325);\n} else {}\n\n/***/ }),\n\n/***/ 325:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/** @license React v17.0.2\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n__webpack_require__(93);\n\nvar f = __webpack_require__(0),\n    g = 60103;\n\nexports.Fragment = 60107;\n\nif (\"function\" === typeof Symbol && Symbol[\"for\"]) {\n  var h = Symbol[\"for\"];\n  g = h(\"react.element\");\n  exports.Fragment = h(\"react.fragment\");\n}\n\nvar m = f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,\n    n = Object.prototype.hasOwnProperty,\n    p = {\n  key: !0,\n  ref: !0,\n  __self: !0,\n  __source: !0\n};\n\nfunction q(c, a, k) {\n  var b,\n      d = {},\n      e = null,\n      l = null;\n  void 0 !== k && (e = \"\" + k);\n  void 0 !== a.key && (e = \"\" + a.key);\n  void 0 !== a.ref && (l = a.ref);\n\n  for (b in a) {\n    n.call(a, b) && !p.hasOwnProperty(b) && (d[b] = a[b]);\n  }\n\n  if (c && c.defaultProps) for (b in a = c.defaultProps, a) {\n    void 0 === d[b] && (d[b] = a[b]);\n  }\n  return {\n    $$typeof: g,\n    type: c,\n    key: e,\n    ref: l,\n    props: d,\n    _owner: m.current\n  };\n}\n\nexports.jsx = q;\nexports.jsxs = q;\n\n/***/ }),\n\n/***/ 326:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return MarvelPersoView; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return MarvelSearchForm; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return fetchMarvel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ErrorDisplay; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return fetchMarvelById; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return fetchMarvelsList; });\n/* harmony import */ var _home_floslv_Flo_Dev_Learning_MikeCodeur_react_hooks_avances_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(324);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__);\n/* NE PAS MODIFIER CE FICHIER  */ /* eslint-disable no-unused-vars */// GET FREE KEY https://developer.marvel.com/account\n// add localhost to referrers\n// clef limité à 3000 appels par jour\n// const marvelApiKey = '6bcc5c7ff0ad488fb58f759c4069964c'\nvar marvelApiKey='5a4bd353e754599ed13518c2f87509df';var myHeader=new Headers({'Content-Type':'application/x-www-form-urlencoded'});var init={method:'GET',headers:myHeader,mode:'cors'};var fetchMarvel=function fetchMarvel(name){var url=\"https://gateway.marvel.com:443/v1/public/characters?apikey=\".concat(marvelApiKey,\"&nameStartsWith=\").concat(name);return fetch(url,init).then(function(response){return response.json();}).then(function(json){if(json.data.results.length>0){return json.data.results[0];}else{return Promise.reject(new Error(\"Aucun Marvel trouv\\xE9 avec le nom \\\"\".concat(name,\"\\\"\")));}// ERROR DU JSON()\n})[\"catch\"](function(error){return Promise.reject(new Error(\"Aucun Marvel trouv\\xE9 avec le nom \\\"\".concat(name,\"\\\"\")));});// ERROR APPEL API\n};var fetchMarvelById=function fetchMarvelById(id){var url=\"https://gateway.marvel.com:443/v1/public/characters/\".concat(id,\"?apikey=\").concat(marvelApiKey);return fetch(url,init).then(function(response){return response.json();}).then(function(json){if(json.data.results.length>0){return json.data.results[0];}else{return Promise.reject(new Error(\"Aucun Marvel trouv\\xE9 avec l'id \\\"\".concat(id,\"\\\"\")));}// ERROR DU JSON()\n})[\"catch\"](function(error){return Promise.reject(new Error(\"Aucun Marvel trouv\\xE9 avec l'id \\\"\".concat(id,\"\\\"\")));});// ERROR APPEL API\n};var fetchMarvelsList=function fetchMarvelsList(name){var url=\"https://gateway.marvel.com:443/v1/public/characters?apikey=\".concat(marvelApiKey,\"&nameStartsWith=\").concat(name);return fetch(url,init).then(function(response){return response.json();}).then(function(json){if(json.data.results.length>0){return json.data.results;}else{return Promise.reject(new Error(\"Aucun Marvel trouv\\xE9 avec le nom \\\"\".concat(name,\"\\\"\")));}// ERROR DU JSON()\n})[\"catch\"](function(error){return Promise.reject(new Error(\"Aucun Marvel trouv\\xE9 avec le nom \\\"\".concat(name,\"\\\"\")));});// ERROR APPEL API\n};function MarvelPersoView(_ref){var marvel=_ref.marvel;return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"div\",{className:\"marvel-img\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"img\",{height:\"400\",src:marvel.thumbnail.path+'.'+marvel.thumbnail.extension,alt:marvel.name})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"div\",{className:\"marvel-name\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(\"h1\",{children:[marvel.name,/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"sup\",{children:marvel.number})]})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(\"div\",{className:\"marvel-wrapper\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"h3\",{children:\"Apparait dans\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"ul\",{children:marvel.series.items.map(function(serie,idx){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(\"li\",{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"label\",{children:serie.name}),\":\",' ']},idx);})})]})]});}function MarvelSearchForm(_ref2){var onSearch=_ref2.onSearch,marvelName=_ref2.marvelName;var _React$useState=react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"](marvelName),_React$useState2=Object(_home_floslv_Flo_Dev_Learning_MikeCodeur_react_hooks_avances_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(\"div\",{className:\"component-header\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(\"div\",{children:[\"Recherche Marvel (\",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"span\",{onClick:function onClick(e){return setName('x-men');},children:\"x-men\"}),\",\",' ',/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"span\",{onClick:function onClick(e){return setName('spider-man');},children:\"spider-man\"}),\" ...)\"]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"input\",{type:\"text\",value:name,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"input\",{type:\"button\",onClick:function onClick(){return onSearch(name);},value:'rechercher'})]})]});}function ErrorDisplay(_ref3){var error=_ref3.error;return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(\"div\",{style:{color:'red'},children:[\"Une erreur est survenue lors de la recherche de Marvel detail :\",' ',/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(\"pre\",{style:{color:'grey'},children:[\" D\\xE9tail : \",error.message]})]});}\n\n/***/ }),\n\n/***/ 327:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/home/floslv/Flo/Dev/Learning/MikeCodeur/react-hooks-avances/src/final/07.js","/home/floslv/Flo/Dev/Learning/MikeCodeur/react-hooks-avances/node_modules/react/jsx-runtime.js","/home/floslv/Flo/Dev/Learning/MikeCodeur/react-hooks-avances/node_modules/react/cjs/react-jsx-runtime.production.min.js","/home/floslv/Flo/Dev/Learning/MikeCodeur/react-hooks-avances/src/marvel.js","/home/floslv/Flo/Dev/Learning/MikeCodeur/react-hooks-avances/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/floslv/Flo/Dev/Learning/MikeCodeur/react-hooks-avances/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/floslv/Flo/Dev/Learning/MikeCodeur/react-hooks-avances/node_modules/postcss-loader/src/index.js??postcss!/home/floslv/Flo/Dev/Learning/MikeCodeur/react-hooks-avances/src/02-styles.css"],"names":["cacheFormatDebugValue","cache","expire","data","length","MarvelCacheContext","React","marvelCacheReducer","state","action","ttl","Date","now","type","marvelName","marvelData","Error","MarvelCacheProvider","props","dispatch","useMarvelCache","context","reducer","status","error","payload","useFetchData","execute","promise","then","marvel","setData","useFindMarvelByName","fetchMarvel","useFindMarvelList","fetchMarvelsList","Marvel","fetchMarvelById","MarvelList","marvels","map","background","id","App","setMarvelName","searchList","setSearchList","handleSearch","name","e","target","checked","ErrorDisplay","process","module","exports","require","f","g","Fragment","Symbol","h","m","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","n","Object","prototype","hasOwnProperty","p","key","ref","__self","__source","q","c","a","k","b","d","l","call","defaultProps","$$typeof","_owner","current","jsx","jsxs","marvelApiKey","myHeader","Headers","init","method","headers","mode","url","fetch","response","json","results","Promise","reject","MarvelPersoView","thumbnail","path","extension","number","series","items","serie","idx","MarvelSearchForm","onSearch","setName","value","color","message"],"mappings":"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","file":"x","sourcesContent":["// useDebugValue\n// http://localhost:3000/alone/final/0.js\n\nimport * as React from 'react'\nimport {ErrorBoundary} from 'react-error-boundary'\nimport {\n  fetchMarvel,\n  fetchMarvelById,\n  fetchMarvelsList,\n  MarvelSearchForm,\n  ErrorDisplay,\n  MarvelPersoView,\n} from '../marvel'\nimport '../02-styles.css'\n\nconst cacheFormatDebugValue = cache =>\n  `\\`Expiration ${cache.expire}  : \\` => Elements :${cache.data.length}`\n\nconst MarvelCacheContext = React.createContext()\n\nfunction marvelCacheReducer(state, action) {\n  const ttl = 1_000 * 10\n  const expire = Date.now() + ttl\n  switch (action.type) {\n    case 'ADD_MARVEL': {\n      return {...state, [action.marvelName]: {data: action.marvelData, expire}}\n    }\n    case 'ADD_MARVEL_LIST': {\n      return {\n        ...state,\n        [`${action.marvelName}-list`]: {data: action.marvelData, expire},\n      }\n    }\n    default: {\n      throw new Error(`action impossible: ${action.type}`)\n    }\n  }\n}\n\nfunction MarvelCacheProvider(props) {\n  const [cache, dispatch] = React.useReducer(marvelCacheReducer, {})\n  return <MarvelCacheContext.Provider value={[cache, dispatch]} {...props} />\n}\n\nfunction useMarvelCache() {\n  const context = React.useContext(MarvelCacheContext)\n  if (!context) {\n    throw new Error('useMarvelCache doit être utilisé avec MarvelCacheProvider')\n  }\n  return context\n}\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'fetching':\n      return {status: 'fetching', data: null, error: null}\n    case 'done':\n      return {status: 'done', data: action.payload, error: null}\n    case 'fail':\n      return {status: 'fail', data: null, error: action.error}\n    default:\n      throw new Error('Action non supporté')\n  }\n}\n\nfunction useFetchData() {\n  const [state, dispatch] = React.useReducer(reducer, {\n    data: null,\n    error: null,\n    status: 'idle',\n  })\n  const {data, error, status} = state\n\n  const execute = React.useCallback(promise => {\n    dispatch({type: 'fetching'})\n    promise\n      .then(marvel => dispatch({type: 'done', payload: marvel}))\n      .catch(error => dispatch({type: 'fail', error}))\n  }, [])\n\n  const setData = React.useCallback(\n    data => dispatch({type: 'done', payload: data}),\n    [dispatch],\n  )\n\n  return {data, error, status, execute, setData}\n}\n\nfunction useFindMarvelByName(marvelName) {\n  const [cache, dispatch] = useMarvelCache()\n\n  React.useDebugValue(cache)\n\n  const {data, error, status, execute, setData} = useFetchData()\n  React.useEffect(() => {\n    if (!marvelName) {\n      return\n    } else if (\n      cache[marvelName]?.data &&\n      Date.now() < cache[marvelName].expire\n    ) {\n      setData(cache[marvelName].data)\n    } else {\n      execute(\n        fetchMarvel(marvelName).then(marvelData => {\n          dispatch({type: 'ADD_MARVEL', marvelName, marvelData})\n          return marvelData\n        }),\n      )\n    }\n  }, [marvelName, execute, cache, setData, dispatch])\n  return {data, error, status}\n}\n\nfunction useFindMarvelList(marvelName) {\n  const [cache, dispatch] = useMarvelCache()\n\n  React.useDebugValue(cache[`${marvelName}-list`], cacheFormatDebugValue)\n\n  const {data, error, status, execute, setData} = useFetchData()\n  React.useEffect(() => {\n    if (!marvelName) {\n      return\n    } else if (\n      cache[`${marvelName}-list`]?.data &&\n      Date.now() < cache[`${marvelName}-list`].expire\n    ) {\n      setData(cache[`${marvelName}-list`].data)\n    } else {\n      execute(\n        fetchMarvelsList(marvelName).then(marvelData => {\n          dispatch({type: 'ADD_MARVEL_LIST', marvelName, marvelData})\n          return marvelData\n        }),\n      )\n    }\n  }, [marvelName, execute, cache, setData, dispatch])\n  return {data, error, status}\n}\n\nfunction Marvel({marvelName}) {\n  const state = useFindMarvelByName(marvelName, fetchMarvelById)\n  const {data: marvel, error, status} = state\n  if (status === 'fail') {\n    throw error\n  } else if (status === 'idle') {\n    return 'enter un nom de Marvel'\n  } else if (status === 'fetching') {\n    return 'chargement en cours ...'\n  } else if (status === 'done') {\n    return <MarvelPersoView marvel={marvel} />\n  }\n}\n\nfunction MarvelList({marvelName}) {\n  const state = useFindMarvelList(marvelName, fetchMarvelById)\n  const {data: marvels, error, status} = state\n  if (status === 'fail') {\n    throw error\n  } else if (status === 'idle') {\n    return 'enter un nom de Marvel'\n  } else if (status === 'fetching') {\n    return 'chargement en cours ...'\n  } else if (status === 'done') {\n    return (\n      <>\n        {marvels.map(marvel => {\n          return (\n            <div key={marvel.id}>\n              <hr style={{background: 'grey'}} />\n              <MarvelPersoView marvel={marvel} />\n            </div>\n          )\n        })}\n      </>\n    )\n  }\n}\n\nfunction App() {\n  const [marvelName, setMarvelName] = React.useState('')\n  const [searchList, setSearchList] = React.useState('')\n  const handleSearch = name => {\n    setMarvelName(name)\n  }\n  return (\n    <div className=\"marvel-app\">\n      <label>\n        <input\n          type=\"checkbox\"\n          checked={searchList}\n          onChange={e => setSearchList(e.target.checked)}\n        />{' '}\n        Chercher une liste ?\n      </label>\n      <MarvelSearchForm marvelName={marvelName} onSearch={handleSearch} />\n      <MarvelCacheProvider>\n        <div className=\"marvel-detail\">\n          <ErrorBoundary key={marvelName} FallbackComponent={ErrorDisplay}>\n            {searchList ? (\n              <MarvelList marvelName={marvelName} />\n            ) : (\n              <Marvel marvelName={marvelName} />\n            )}\n          </ErrorBoundary>\n        </div>\n      </MarvelCacheProvider>\n    </div>\n  )\n}\n\nexport default App\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/** @license React v17.0.2\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';require(\"object-assign\");var f=require(\"react\"),g=60103;exports.Fragment=60107;if(\"function\"===typeof Symbol&&Symbol.for){var h=Symbol.for;g=h(\"react.element\");exports.Fragment=h(\"react.fragment\")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,k){var b,d={},e=null,l=null;void 0!==k&&(e=\"\"+k);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(l=a.ref);for(b in a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q;exports.jsxs=q;\n","/* NE PAS MODIFIER CE FICHIER  */\n/* eslint-disable no-unused-vars */\nimport * as React from 'react'\n\n// GET FREE KEY https://developer.marvel.com/account\n// add localhost to referrers\n// clef limité à 3000 appels par jour\n\n// const marvelApiKey = '6bcc5c7ff0ad488fb58f759c4069964c'\nconst marvelApiKey = '5a4bd353e754599ed13518c2f87509df'\n\nconst myHeader = new Headers({\n  'Content-Type': 'application/x-www-form-urlencoded',\n})\nconst init = {\n  method: 'GET',\n  headers: myHeader,\n  mode: 'cors',\n}\n\nconst fetchMarvel = name => {\n  const url = `https://gateway.marvel.com:443/v1/public/characters?apikey=${marvelApiKey}&nameStartsWith=${name}`\n  return fetch(url, init)\n    .then(response => response.json())\n    .then(json => {\n      if (json.data.results.length > 0) {\n        return json.data.results[0]\n      } else {\n        return Promise.reject(\n          new Error(`Aucun Marvel trouvé avec le nom \"${name}\"`),\n        )\n      } // ERROR DU JSON()\n    })\n    .catch(error => {\n      return Promise.reject(\n        new Error(`Aucun Marvel trouvé avec le nom \"${name}\"`),\n      )\n    }) // ERROR APPEL API\n}\n\nconst fetchMarvelById = id => {\n  const url = `https://gateway.marvel.com:443/v1/public/characters/${id}?apikey=${marvelApiKey}`\n  return fetch(url, init)\n    .then(response => response.json())\n    .then(json => {\n      if (json.data.results.length > 0) {\n        return json.data.results[0]\n      } else {\n        return Promise.reject(\n          new Error(`Aucun Marvel trouvé avec l'id \"${id}\"`),\n        )\n      } // ERROR DU JSON()\n    })\n    .catch(error => {\n      return Promise.reject(new Error(`Aucun Marvel trouvé avec l'id \"${id}\"`))\n    }) // ERROR APPEL API\n}\n\nconst fetchMarvelsList = name => {\n  const url = `https://gateway.marvel.com:443/v1/public/characters?apikey=${marvelApiKey}&nameStartsWith=${name}`\n  return fetch(url, init)\n    .then(response => response.json())\n    .then(json => {\n      if (json.data.results.length > 0) {\n        return json.data.results\n      } else {\n        return Promise.reject(\n          new Error(`Aucun Marvel trouvé avec le nom \"${name}\"`),\n        )\n      } // ERROR DU JSON()\n    })\n    .catch(error => {\n      return Promise.reject(\n        new Error(`Aucun Marvel trouvé avec le nom \"${name}\"`),\n      )\n    }) // ERROR APPEL API\n}\n\nfunction MarvelPersoView({marvel}) {\n  return (\n    <div>\n      <div className=\"marvel-img\">\n        <img\n          height=\"400\"\n          src={marvel.thumbnail.path + '.' + marvel.thumbnail.extension}\n          alt={marvel.name}\n        />\n      </div>\n      <div className=\"marvel-name\">\n        <h1>\n          {marvel.name}\n          <sup>{marvel.number}</sup>\n        </h1>\n      </div>\n      <div className=\"marvel-wrapper\">\n        <h3>Apparait dans</h3>\n        <ul>\n          {marvel.series.items.map((serie, idx) => (\n            <li key={idx}>\n              <label>{serie.name}</label>:{' '}\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nfunction MarvelSearchForm({onSearch, marvelName}) {\n  const [name, setName] = React.useState(marvelName)\n  return (\n    <div className=\"component-header\">\n      <div>\n        Recherche Marvel (<span onClick={e => setName('x-men')}>x-men</span>,{' '}\n        <span onClick={e => setName('spider-man')}>spider-man</span> ...)\n      </div>\n      <div>\n        <input\n          type=\"text\"\n          value={name}\n          onChange={e => setName(e.target.value)}\n        />\n        <input\n          type=\"button\"\n          onClick={() => onSearch(name)}\n          value={'rechercher'}\n        />\n      </div>\n    </div>\n  )\n}\n\nfunction ErrorDisplay({error}) {\n  return (\n    <div style={{color: 'red'}}>\n      Une erreur est survenue lors de la recherche de Marvel detail :{' '}\n      <pre style={{color: 'grey'}}> Détail : {error.message}</pre>\n    </div>\n  )\n}\n\nexport {\n  MarvelPersoView,\n  MarvelSearchForm,\n  fetchMarvel,\n  ErrorDisplay,\n  fetchMarvelById,\n  fetchMarvelsList,\n}\n","// extracted by mini-css-extract-plugin"]},"banner":"For license information please see 19.cf5a9f4d.chunk.js.LICENSE.txt","extractedComments":"/** @license React v17.0.2\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n","commentsFilename":"static/js/19.cf5a9f4d.chunk.js.LICENSE.txt"}