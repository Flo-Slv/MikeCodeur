{"code":"(this[\"webpackJsonp@mikecodeur/react-hooks-avances\"]=this[\"webpackJsonp@mikecodeur/react-hooks-avances\"]||[]).push([[12],{265:function(e,r,t){\"use strict\";t.r(r);var n=t(7),c=t(0),a=t(94),o=t(326),u=(t(327),t(324)),s=function(e,r){switch(r.type){case\"fetching\":return{status:\"fetching\",marvel:null,error:null};case\"done\":return{status:\"done\",marvel:r.payload,error:null};case\"fail\":return{status:\"fail\",marvel:null,error:r.error};default:throw new Error(\"Action non support\\xe9\")}};function i(e){var r=function(e){var r=c.useReducer(s,{marvel:null,error:null,status:\"idle\"}),t=Object(n.a)(r,2),a=t[0],u=t[1];return c.useEffect((function(){e&&(u({type:\"fetching\"}),Object(o.d)(e).then((function(e){return u({type:\"done\",payload:e})})).catch((function(e){return u({type:\"fail\",error:e})})))}),[e]),a}(e.marvelName),t=r.error,a=r.marvel,i=r.status;if(\"fail\"===i)throw t;return\"idle\"===i?\"enter un nom de Marvel\":\"fetching\"===i?\"chargement en cours ...\":\"done\"===i?Object(u.jsx)(o.b,{marvel:a}):void 0}r.default=function(){var e=c.useState(\"\"),r=Object(n.a)(e,2),t=r[0],s=r[1];return Object(u.jsxs)(\"div\",{className:\"marvel-app\",children:[Object(u.jsx)(o.c,{marvelName:t,onSearch:function(e){s(e)}}),Object(u.jsx)(\"div\",{className:\"marvel-detail\",children:Object(u.jsx)(a.ErrorBoundary,{FallbackComponent:o.a,children:Object(u.jsx)(i,{marvelName:t})},t)})]})}},324:function(e,r,t){\"use strict\";e.exports=t(325)},325:function(e,r,t){\"use strict\";t(93);var n=t(0),c=60103;if(r.Fragment=60107,\"function\"===typeof Symbol&&Symbol.for){var a=Symbol.for;c=a(\"react.element\"),r.Fragment=a(\"react.fragment\")}var o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function i(e,r,t){var n,a={},i=null,l=null;for(n in void 0!==t&&(i=\"\"+t),void 0!==r.key&&(i=\"\"+r.key),void 0!==r.ref&&(l=r.ref),r)u.call(r,n)&&!s.hasOwnProperty(n)&&(a[n]=r[n]);if(e&&e.defaultProps)for(n in r=e.defaultProps)void 0===a[n]&&(a[n]=r[n]);return{$$typeof:c,type:e,key:i,ref:l,props:a,_owner:o.current}}r.jsx=i,r.jsxs=i},326:function(e,r,t){\"use strict\";t.d(r,\"b\",(function(){return d})),t.d(r,\"c\",(function(){return h})),t.d(r,\"d\",(function(){return s})),t.d(r,\"a\",(function(){return v})),t.d(r,\"e\",(function(){return i})),t.d(r,\"f\",(function(){return l}));var n=t(7),c=t(0),a=t(324),o=\"5a4bd353e754599ed13518c2f87509df\",u={method:\"GET\",headers:new Headers({\"Content-Type\":\"application/x-www-form-urlencoded\"}),mode:\"cors\"},s=function(e){var r=\"https://gateway.marvel.com:443/v1/public/characters?apikey=\".concat(o,\"&nameStartsWith=\").concat(e);return fetch(r,u).then((function(e){return e.json()})).then((function(r){return r.data.results.length>0?r.data.results[0]:Promise.reject(new Error('Aucun Marvel trouv\\xe9 avec le nom \"'.concat(e,'\"')))})).catch((function(r){return Promise.reject(new Error('Aucun Marvel trouv\\xe9 avec le nom \"'.concat(e,'\"')))}))},i=function(e){var r=\"https://gateway.marvel.com:443/v1/public/characters/\".concat(e,\"?apikey=\").concat(o);return fetch(r,u).then((function(e){return e.json()})).then((function(r){return r.data.results.length>0?r.data.results[0]:Promise.reject(new Error(\"Aucun Marvel trouv\\xe9 avec l'id \\\"\".concat(e,'\"')))})).catch((function(r){return Promise.reject(new Error(\"Aucun Marvel trouv\\xe9 avec l'id \\\"\".concat(e,'\"')))}))},l=function(e){var r=\"https://gateway.marvel.com:443/v1/public/characters?apikey=\".concat(o,\"&nameStartsWith=\").concat(e);return fetch(r,u).then((function(e){return e.json()})).then((function(r){return r.data.results.length>0?r.data.results:Promise.reject(new Error('Aucun Marvel trouv\\xe9 avec le nom \"'.concat(e,'\"')))})).catch((function(r){return Promise.reject(new Error('Aucun Marvel trouv\\xe9 avec le nom \"'.concat(e,'\"')))}))};function d(e){var r=e.marvel;return Object(a.jsxs)(\"div\",{children:[Object(a.jsx)(\"div\",{className:\"marvel-img\",children:Object(a.jsx)(\"img\",{height:\"400\",src:r.thumbnail.path+\".\"+r.thumbnail.extension,alt:r.name})}),Object(a.jsx)(\"div\",{className:\"marvel-name\",children:Object(a.jsxs)(\"h1\",{children:[r.name,Object(a.jsx)(\"sup\",{children:r.number})]})}),Object(a.jsxs)(\"div\",{className:\"marvel-wrapper\",children:[Object(a.jsx)(\"h3\",{children:\"Apparait dans\"}),Object(a.jsx)(\"ul\",{children:r.series.items.map((function(e,r){return Object(a.jsxs)(\"li\",{children:[Object(a.jsx)(\"label\",{children:e.name}),\":\",\" \"]},r)}))})]})]})}function h(e){var r=e.onSearch,t=e.marvelName,o=c.useState(t),u=Object(n.a)(o,2),s=u[0],i=u[1];return Object(a.jsxs)(\"div\",{className:\"component-header\",children:[Object(a.jsxs)(\"div\",{children:[\"Recherche Marvel (\",Object(a.jsx)(\"span\",{onClick:function(e){return i(\"x-men\")},children:\"x-men\"}),\",\",\" \",Object(a.jsx)(\"span\",{onClick:function(e){return i(\"spider-man\")},children:\"spider-man\"}),\" ...)\"]}),Object(a.jsxs)(\"div\",{children:[Object(a.jsx)(\"input\",{type:\"text\",value:s,onChange:function(e){return i(e.target.value)}}),Object(a.jsx)(\"input\",{type:\"button\",onClick:function(){return r(s)},value:\"rechercher\"})]})]})}function v(e){var r=e.error;return Object(a.jsxs)(\"div\",{style:{color:\"red\"},children:[\"Une erreur est survenue lors de la recherche de Marvel detail :\",\" \",Object(a.jsxs)(\"pre\",{style:{color:\"grey\"},children:[\" D\\xe9tail : \",r.message]})]})}},327:function(e,r,t){}}]);","name":"static/js/12.80d0858b.chunk.js","map":{"version":3,"sources":["static/js/12.80d0858b.chunk.js"],"names":["this","push","265","module","__webpack_exports__","__webpack_require__","r","_home_floslv_Flo_Dev_Learning_MikeCodeur_react_hooks_avances_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","react_error_boundary__WEBPACK_IMPORTED_MODULE_2__","_marvel__WEBPACK_IMPORTED_MODULE_3__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__","reducer","state","action","type","status","marvel","error","payload","Error","Marvel","_ref","marvelName","_React$useReducer","_React$useReducer2","Object","dispatch","then","useFindMarvelByName","_React$useState","_React$useState2","setMarvelName","className","children","onSearch","name","FallbackComponent","324","exports","325","f","g","Fragment","Symbol","h","m","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","n","prototype","hasOwnProperty","p","key","ref","__self","__source","q","c","a","k","b","d","e","l","call","defaultProps","$$typeof","props","_owner","current","jsx","jsxs","326","MarvelPersoView","MarvelSearchForm","fetchMarvel","ErrorDisplay","fetchMarvelById","fetchMarvelsList","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__","marvelApiKey","init","method","headers","Headers","Content-Type","mode","url","concat","fetch","response","json","data","results","length","Promise","reject","id","height","src","thumbnail","path","extension","alt","number","series","items","map","serie","idx","_ref2","setName","onClick","value","onChange","target","_ref3","style","color","message","327"],"mappings":"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"},"input":"(this[\"webpackJsonp@mikecodeur/react-hooks-avances\"] = this[\"webpackJsonp@mikecodeur/react-hooks-avances\"] || []).push([[12],{\n\n/***/ 265:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _home_floslv_Flo_Dev_Learning_MikeCodeur_react_hooks_avances_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_error_boundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(94);\n/* harmony import */ var react_error_boundary__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_error_boundary__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _marvel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(326);\n/* harmony import */ var _02_styles_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(327);\n/* harmony import */ var _02_styles_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_02_styles_css__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(324);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__);\n// Hook personnalisé\n// 🚀 Gérer le chargement avec un status\n// http://localhost:3000/alone/final/02.bonus-4.js\nvar reducer=function reducer(state,action){switch(action.type){case'fetching':return{status:'fetching',marvel:null,error:null};case'done':return{status:'done',marvel:action.payload,error:null};case'fail':return{status:'fail',marvel:null,error:action.error};default:throw new Error('Action non supporté');}};function useFindMarvelByName(marvelName){var _React$useReducer=react__WEBPACK_IMPORTED_MODULE_1__[\"useReducer\"](reducer,{marvel:null,error:null,status:'idle'}),_React$useReducer2=Object(_home_floslv_Flo_Dev_Learning_MikeCodeur_react_hooks_avances_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_React$useReducer,2),state=_React$useReducer2[0],dispatch=_React$useReducer2[1];react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"](function(){if(!marvelName){return;}dispatch({type:'fetching'});Object(_marvel__WEBPACK_IMPORTED_MODULE_3__[/* fetchMarvel */ \"d\"])(marvelName).then(function(marvel){return dispatch({type:'done',payload:marvel});})[\"catch\"](function(error){return dispatch({type:'fail',error:error});});},[marvelName]);return state;}function Marvel(_ref){var marvelName=_ref.marvelName;var state=useFindMarvelByName(marvelName);var error=state.error,marvel=state.marvel,status=state.status;if(status==='fail'){throw error;}else if(status==='idle'){return'enter un nom de Marvel';}else if(status==='fetching'){return'chargement en cours ...';}else if(status==='done'){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsx\"])(_marvel__WEBPACK_IMPORTED_MODULE_3__[/* MarvelPersoView */ \"b\"],{marvel:marvel});}}function App(){var _React$useState=react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"](''),_React$useState2=Object(_home_floslv_Flo_Dev_Learning_MikeCodeur_react_hooks_avances_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_React$useState,2),marvelName=_React$useState2[0],setMarvelName=_React$useState2[1];var handleSearch=function handleSearch(name){setMarvelName(name);};return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsxs\"])(\"div\",{className:\"marvel-app\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsx\"])(_marvel__WEBPACK_IMPORTED_MODULE_3__[/* MarvelSearchForm */ \"c\"],{marvelName:marvelName,onSearch:handleSearch}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsx\"])(\"div\",{className:\"marvel-detail\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsx\"])(react_error_boundary__WEBPACK_IMPORTED_MODULE_2__[\"ErrorBoundary\"],{FallbackComponent:_marvel__WEBPACK_IMPORTED_MODULE_3__[/* ErrorDisplay */ \"a\"],children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__[\"jsx\"])(Marvel,{marvelName:marvelName})},marvelName)})]});}/* harmony default export */ __webpack_exports__[\"default\"] = (App);\n\n/***/ }),\n\n/***/ 324:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nif (true) {\n  module.exports = __webpack_require__(325);\n} else {}\n\n/***/ }),\n\n/***/ 325:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/** @license React v17.0.2\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n__webpack_require__(93);\n\nvar f = __webpack_require__(0),\n    g = 60103;\n\nexports.Fragment = 60107;\n\nif (\"function\" === typeof Symbol && Symbol[\"for\"]) {\n  var h = Symbol[\"for\"];\n  g = h(\"react.element\");\n  exports.Fragment = h(\"react.fragment\");\n}\n\nvar m = f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,\n    n = Object.prototype.hasOwnProperty,\n    p = {\n  key: !0,\n  ref: !0,\n  __self: !0,\n  __source: !0\n};\n\nfunction q(c, a, k) {\n  var b,\n      d = {},\n      e = null,\n      l = null;\n  void 0 !== k && (e = \"\" + k);\n  void 0 !== a.key && (e = \"\" + a.key);\n  void 0 !== a.ref && (l = a.ref);\n\n  for (b in a) {\n    n.call(a, b) && !p.hasOwnProperty(b) && (d[b] = a[b]);\n  }\n\n  if (c && c.defaultProps) for (b in a = c.defaultProps, a) {\n    void 0 === d[b] && (d[b] = a[b]);\n  }\n  return {\n    $$typeof: g,\n    type: c,\n    key: e,\n    ref: l,\n    props: d,\n    _owner: m.current\n  };\n}\n\nexports.jsx = q;\nexports.jsxs = q;\n\n/***/ }),\n\n/***/ 326:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return MarvelPersoView; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return MarvelSearchForm; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return fetchMarvel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ErrorDisplay; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return fetchMarvelById; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return fetchMarvelsList; });\n/* harmony import */ var _home_floslv_Flo_Dev_Learning_MikeCodeur_react_hooks_avances_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(324);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__);\n/* NE PAS MODIFIER CE FICHIER  */ /* eslint-disable no-unused-vars */// GET FREE KEY https://developer.marvel.com/account\n// add localhost to referrers\n// clef limité à 3000 appels par jour\n// const marvelApiKey = '6bcc5c7ff0ad488fb58f759c4069964c'\nvar marvelApiKey='5a4bd353e754599ed13518c2f87509df';var myHeader=new Headers({'Content-Type':'application/x-www-form-urlencoded'});var init={method:'GET',headers:myHeader,mode:'cors'};var fetchMarvel=function fetchMarvel(name){var url=\"https://gateway.marvel.com:443/v1/public/characters?apikey=\".concat(marvelApiKey,\"&nameStartsWith=\").concat(name);return fetch(url,init).then(function(response){return response.json();}).then(function(json){if(json.data.results.length>0){return json.data.results[0];}else{return Promise.reject(new Error(\"Aucun Marvel trouv\\xE9 avec le nom \\\"\".concat(name,\"\\\"\")));}// ERROR DU JSON()\n})[\"catch\"](function(error){return Promise.reject(new Error(\"Aucun Marvel trouv\\xE9 avec le nom \\\"\".concat(name,\"\\\"\")));});// ERROR APPEL API\n};var fetchMarvelById=function fetchMarvelById(id){var url=\"https://gateway.marvel.com:443/v1/public/characters/\".concat(id,\"?apikey=\").concat(marvelApiKey);return fetch(url,init).then(function(response){return response.json();}).then(function(json){if(json.data.results.length>0){return json.data.results[0];}else{return Promise.reject(new Error(\"Aucun Marvel trouv\\xE9 avec l'id \\\"\".concat(id,\"\\\"\")));}// ERROR DU JSON()\n})[\"catch\"](function(error){return Promise.reject(new Error(\"Aucun Marvel trouv\\xE9 avec l'id \\\"\".concat(id,\"\\\"\")));});// ERROR APPEL API\n};var fetchMarvelsList=function fetchMarvelsList(name){var url=\"https://gateway.marvel.com:443/v1/public/characters?apikey=\".concat(marvelApiKey,\"&nameStartsWith=\").concat(name);return fetch(url,init).then(function(response){return response.json();}).then(function(json){if(json.data.results.length>0){return json.data.results;}else{return Promise.reject(new Error(\"Aucun Marvel trouv\\xE9 avec le nom \\\"\".concat(name,\"\\\"\")));}// ERROR DU JSON()\n})[\"catch\"](function(error){return Promise.reject(new Error(\"Aucun Marvel trouv\\xE9 avec le nom \\\"\".concat(name,\"\\\"\")));});// ERROR APPEL API\n};function MarvelPersoView(_ref){var marvel=_ref.marvel;return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"div\",{className:\"marvel-img\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"img\",{height:\"400\",src:marvel.thumbnail.path+'.'+marvel.thumbnail.extension,alt:marvel.name})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"div\",{className:\"marvel-name\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(\"h1\",{children:[marvel.name,/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"sup\",{children:marvel.number})]})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(\"div\",{className:\"marvel-wrapper\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"h3\",{children:\"Apparait dans\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"ul\",{children:marvel.series.items.map(function(serie,idx){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(\"li\",{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"label\",{children:serie.name}),\":\",' ']},idx);})})]})]});}function MarvelSearchForm(_ref2){var onSearch=_ref2.onSearch,marvelName=_ref2.marvelName;var _React$useState=react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"](marvelName),_React$useState2=Object(_home_floslv_Flo_Dev_Learning_MikeCodeur_react_hooks_avances_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(\"div\",{className:\"component-header\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(\"div\",{children:[\"Recherche Marvel (\",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"span\",{onClick:function onClick(e){return setName('x-men');},children:\"x-men\"}),\",\",' ',/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"span\",{onClick:function onClick(e){return setName('spider-man');},children:\"spider-man\"}),\" ...)\"]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"input\",{type:\"text\",value:name,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"input\",{type:\"button\",onClick:function onClick(){return onSearch(name);},value:'rechercher'})]})]});}function ErrorDisplay(_ref3){var error=_ref3.error;return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(\"div\",{style:{color:'red'},children:[\"Une erreur est survenue lors de la recherche de Marvel detail :\",' ',/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(\"pre\",{style:{color:'grey'},children:[\" D\\xE9tail : \",error.message]})]});}\n\n/***/ }),\n\n/***/ 327:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/home/floslv/Flo/Dev/Learning/MikeCodeur/react-hooks-avances/src/final/02.bonus-4.js","/home/floslv/Flo/Dev/Learning/MikeCodeur/react-hooks-avances/node_modules/react/jsx-runtime.js","/home/floslv/Flo/Dev/Learning/MikeCodeur/react-hooks-avances/node_modules/react/cjs/react-jsx-runtime.production.min.js","/home/floslv/Flo/Dev/Learning/MikeCodeur/react-hooks-avances/src/marvel.js","/home/floslv/Flo/Dev/Learning/MikeCodeur/react-hooks-avances/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/floslv/Flo/Dev/Learning/MikeCodeur/react-hooks-avances/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/floslv/Flo/Dev/Learning/MikeCodeur/react-hooks-avances/node_modules/postcss-loader/src/index.js??postcss!/home/floslv/Flo/Dev/Learning/MikeCodeur/react-hooks-avances/src/02-styles.css"],"names":["reducer","state","action","type","status","marvel","error","payload","Error","useFindMarvelByName","marvelName","React","dispatch","fetchMarvel","then","Marvel","App","setMarvelName","handleSearch","name","ErrorDisplay","process","module","exports","require","f","g","Fragment","Symbol","h","m","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","n","Object","prototype","hasOwnProperty","p","key","ref","__self","__source","q","c","a","k","b","d","e","l","call","defaultProps","$$typeof","props","_owner","current","jsx","jsxs","marvelApiKey","myHeader","Headers","init","method","headers","mode","url","fetch","response","json","data","results","length","Promise","reject","fetchMarvelById","id","fetchMarvelsList","MarvelPersoView","thumbnail","path","extension","number","series","items","map","serie","idx","MarvelSearchForm","onSearch","setName","target","value","color","message"],"mappings":"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","file":"x","sourcesContent":["// Hook personnalisé\n// 🚀 Gérer le chargement avec un status\n// http://localhost:3000/alone/final/02.bonus-4.js\n\nimport * as React from 'react'\nimport {ErrorBoundary} from 'react-error-boundary'\nimport {\n  fetchMarvel,\n  MarvelSearchForm,\n  ErrorDisplay,\n  MarvelPersoView,\n} from '../marvel'\nimport '../02-styles.css'\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'fetching':\n      return {status: 'fetching', marvel: null, error: null}\n    case 'done':\n      return {status: 'done', marvel: action.payload, error: null}\n    case 'fail':\n      return {status: 'fail', marvel: null, error: action.error}\n    default:\n      throw new Error('Action non supporté')\n  }\n}\n\nfunction useFindMarvelByName(marvelName) {\n  const [state, dispatch] = React.useReducer(reducer, {\n    marvel: null,\n    error: null,\n    status: 'idle',\n  })\n\n  React.useEffect(() => {\n    if (!marvelName) {\n      return\n    }\n    dispatch({type: 'fetching'})\n    fetchMarvel(marvelName)\n      .then(marvel => dispatch({type: 'done', payload: marvel}))\n      .catch(error => dispatch({type: 'fail', error}))\n  }, [marvelName])\n\n  return state\n}\n\nfunction Marvel({marvelName}) {\n  const state = useFindMarvelByName(marvelName)\n  const {error, marvel, status} = state\n  if (status === 'fail') {\n    throw error\n  } else if (status === 'idle') {\n    return 'enter un nom de Marvel'\n  } else if (status === 'fetching') {\n    return 'chargement en cours ...'\n  } else if (status === 'done') {\n    return <MarvelPersoView marvel={marvel} />\n  }\n}\n\nfunction App() {\n  const [marvelName, setMarvelName] = React.useState('')\n  const handleSearch = name => {\n    setMarvelName(name)\n  }\n  return (\n    <div className=\"marvel-app\">\n      <MarvelSearchForm marvelName={marvelName} onSearch={handleSearch} />\n      <div className=\"marvel-detail\">\n        <ErrorBoundary key={marvelName} FallbackComponent={ErrorDisplay}>\n          <Marvel marvelName={marvelName} />\n        </ErrorBoundary>\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","/** @license React v17.0.2\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';require(\"object-assign\");var f=require(\"react\"),g=60103;exports.Fragment=60107;if(\"function\"===typeof Symbol&&Symbol.for){var h=Symbol.for;g=h(\"react.element\");exports.Fragment=h(\"react.fragment\")}var m=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,k){var b,d={},e=null,l=null;void 0!==k&&(e=\"\"+k);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(l=a.ref);for(b in a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q;exports.jsxs=q;\n","/* NE PAS MODIFIER CE FICHIER  */\n/* eslint-disable no-unused-vars */\nimport * as React from 'react'\n\n// GET FREE KEY https://developer.marvel.com/account\n// add localhost to referrers\n// clef limité à 3000 appels par jour\n\n// const marvelApiKey = '6bcc5c7ff0ad488fb58f759c4069964c'\nconst marvelApiKey = '5a4bd353e754599ed13518c2f87509df'\n\nconst myHeader = new Headers({\n  'Content-Type': 'application/x-www-form-urlencoded',\n})\nconst init = {\n  method: 'GET',\n  headers: myHeader,\n  mode: 'cors',\n}\n\nconst fetchMarvel = name => {\n  const url = `https://gateway.marvel.com:443/v1/public/characters?apikey=${marvelApiKey}&nameStartsWith=${name}`\n  return fetch(url, init)\n    .then(response => response.json())\n    .then(json => {\n      if (json.data.results.length > 0) {\n        return json.data.results[0]\n      } else {\n        return Promise.reject(\n          new Error(`Aucun Marvel trouvé avec le nom \"${name}\"`),\n        )\n      } // ERROR DU JSON()\n    })\n    .catch(error => {\n      return Promise.reject(\n        new Error(`Aucun Marvel trouvé avec le nom \"${name}\"`),\n      )\n    }) // ERROR APPEL API\n}\n\nconst fetchMarvelById = id => {\n  const url = `https://gateway.marvel.com:443/v1/public/characters/${id}?apikey=${marvelApiKey}`\n  return fetch(url, init)\n    .then(response => response.json())\n    .then(json => {\n      if (json.data.results.length > 0) {\n        return json.data.results[0]\n      } else {\n        return Promise.reject(\n          new Error(`Aucun Marvel trouvé avec l'id \"${id}\"`),\n        )\n      } // ERROR DU JSON()\n    })\n    .catch(error => {\n      return Promise.reject(new Error(`Aucun Marvel trouvé avec l'id \"${id}\"`))\n    }) // ERROR APPEL API\n}\n\nconst fetchMarvelsList = name => {\n  const url = `https://gateway.marvel.com:443/v1/public/characters?apikey=${marvelApiKey}&nameStartsWith=${name}`\n  return fetch(url, init)\n    .then(response => response.json())\n    .then(json => {\n      if (json.data.results.length > 0) {\n        return json.data.results\n      } else {\n        return Promise.reject(\n          new Error(`Aucun Marvel trouvé avec le nom \"${name}\"`),\n        )\n      } // ERROR DU JSON()\n    })\n    .catch(error => {\n      return Promise.reject(\n        new Error(`Aucun Marvel trouvé avec le nom \"${name}\"`),\n      )\n    }) // ERROR APPEL API\n}\n\nfunction MarvelPersoView({marvel}) {\n  return (\n    <div>\n      <div className=\"marvel-img\">\n        <img\n          height=\"400\"\n          src={marvel.thumbnail.path + '.' + marvel.thumbnail.extension}\n          alt={marvel.name}\n        />\n      </div>\n      <div className=\"marvel-name\">\n        <h1>\n          {marvel.name}\n          <sup>{marvel.number}</sup>\n        </h1>\n      </div>\n      <div className=\"marvel-wrapper\">\n        <h3>Apparait dans</h3>\n        <ul>\n          {marvel.series.items.map((serie, idx) => (\n            <li key={idx}>\n              <label>{serie.name}</label>:{' '}\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nfunction MarvelSearchForm({onSearch, marvelName}) {\n  const [name, setName] = React.useState(marvelName)\n  return (\n    <div className=\"component-header\">\n      <div>\n        Recherche Marvel (<span onClick={e => setName('x-men')}>x-men</span>,{' '}\n        <span onClick={e => setName('spider-man')}>spider-man</span> ...)\n      </div>\n      <div>\n        <input\n          type=\"text\"\n          value={name}\n          onChange={e => setName(e.target.value)}\n        />\n        <input\n          type=\"button\"\n          onClick={() => onSearch(name)}\n          value={'rechercher'}\n        />\n      </div>\n    </div>\n  )\n}\n\nfunction ErrorDisplay({error}) {\n  return (\n    <div style={{color: 'red'}}>\n      Une erreur est survenue lors de la recherche de Marvel detail :{' '}\n      <pre style={{color: 'grey'}}> Détail : {error.message}</pre>\n    </div>\n  )\n}\n\nexport {\n  MarvelPersoView,\n  MarvelSearchForm,\n  fetchMarvel,\n  ErrorDisplay,\n  fetchMarvelById,\n  fetchMarvelsList,\n}\n","// extracted by mini-css-extract-plugin"]},"banner":"For license information please see 12.80d0858b.chunk.js.LICENSE.txt","extractedComments":"/** @license React v17.0.2\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n","commentsFilename":"static/js/12.80d0858b.chunk.js.LICENSE.txt"}