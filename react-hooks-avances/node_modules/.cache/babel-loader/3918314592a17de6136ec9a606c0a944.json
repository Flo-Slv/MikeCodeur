{"ast":null,"code":"import _slicedToArray from\"/home/floslv/Flo/Dev/Learning/MikeCodeur/react-hooks-avances/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// Hook personnalisé\n// http://localhost:3000/alone/final/02.js\nimport*as React from'react';import{ErrorBoundary}from'react-error-boundary';import{fetchMarvel,MarvelSearchForm,ErrorDisplay}from'../marvel';import'../02-styles.css';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function useMarvelExist(marvelName){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),exist=_React$useState2[0],setExist=_React$useState2[1];React.useEffect(function(){if(!marvelName){return;}setExist(false);fetchMarvel(marvelName).then(function(){return setExist(true);})[\"catch\"](function(){return setExist(false);});},[marvelName]);return exist;}function Marvel(_ref){var marvelName=_ref.marvelName;var marvelExist=useMarvelExist(marvelName);return/*#__PURE__*/_jsxs(\"div\",{children:[\" \",marvelExist?\"Le marvel existe\":\"Le marvel n'existe pas\"]});}function App(){var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),marvelName=_React$useState4[0],setMarvelName=_React$useState4[1];var handleSearch=function handleSearch(name){setMarvelName(name);};return/*#__PURE__*/_jsxs(\"div\",{className:\"marvel-app\",children:[/*#__PURE__*/_jsx(MarvelSearchForm,{marvelName:marvelName,onSearch:handleSearch}),/*#__PURE__*/_jsx(\"div\",{className:\"marvel-detail\",children:/*#__PURE__*/_jsx(ErrorBoundary,{FallbackComponent:ErrorDisplay,children:/*#__PURE__*/_jsx(Marvel,{marvelName:marvelName})},marvelName)})]});}export default App;","map":{"version":3,"sources":["/home/floslv/Flo/Dev/Learning/MikeCodeur/react-hooks-avances/src/final/02.js"],"names":["React","ErrorBoundary","fetchMarvel","MarvelSearchForm","ErrorDisplay","useMarvelExist","marvelName","useState","exist","setExist","useEffect","then","Marvel","marvelExist","App","setMarvelName","handleSearch","name"],"mappings":"mLAAA;AACA;AAEA,MAAO,GAAKA,CAAAA,KAAZ,KAAuB,OAAvB,CACA,OAAQC,aAAR,KAA4B,sBAA5B,CACA,OAAQC,WAAR,CAAqBC,gBAArB,CAAuCC,YAAvC,KAA0D,WAA1D,CACA,MAAO,kBAAP,C,wFAEA,QAASC,CAAAA,cAAT,CAAwBC,UAAxB,CAAoC,CAClC,oBAA0BN,KAAK,CAACO,QAAN,CAAe,KAAf,CAA1B,oDAAOC,KAAP,qBAAcC,QAAd,qBAEAT,KAAK,CAACU,SAAN,CAAgB,UAAM,CACpB,GAAI,CAACJ,UAAL,CAAiB,CACf,OACD,CACDG,QAAQ,CAAC,KAAD,CAAR,CACAP,WAAW,CAACI,UAAD,CAAX,CACGK,IADH,CACQ,iBAAMF,CAAAA,QAAQ,CAAC,IAAD,CAAd,EADR,WAES,iBAAMA,CAAAA,QAAQ,CAAC,KAAD,CAAd,EAFT,EAGD,CARD,CAQG,CAACH,UAAD,CARH,EAUA,MAAOE,CAAAA,KAAP,CACD,CAED,QAASI,CAAAA,MAAT,MAA8B,IAAbN,CAAAA,UAAa,MAAbA,UAAa,CAC5B,GAAMO,CAAAA,WAAW,CAAGR,cAAc,CAACC,UAAD,CAAlC,CACA,mBACE,2BAAOO,WAAW,4CAAlB,GADF,CAGD,CACD,QAASC,CAAAA,GAAT,EAAe,CACb,qBAAoCd,KAAK,CAACO,QAAN,CAAe,EAAf,CAApC,qDAAOD,UAAP,qBAAmBS,aAAnB,qBACA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,IAAI,CAAI,CAC3BF,aAAa,CAACE,IAAD,CAAb,CACD,CAFD,CAGA,mBACE,aAAK,SAAS,CAAC,YAAf,wBACE,KAAC,gBAAD,EAAkB,UAAU,CAAEX,UAA9B,CAA0C,QAAQ,CAAEU,YAApD,EADF,cAEE,YAAK,SAAS,CAAC,eAAf,uBACE,KAAC,aAAD,EAAgC,iBAAiB,CAAEZ,YAAnD,uBACE,KAAC,MAAD,EAAQ,UAAU,CAAEE,UAApB,EADF,EAAoBA,UAApB,CADF,EAFF,GADF,CAUD,CAED,cAAeQ,CAAAA,GAAf","sourcesContent":["// Hook personnalisé\n// http://localhost:3000/alone/final/02.js\n\nimport * as React from 'react'\nimport {ErrorBoundary} from 'react-error-boundary'\nimport {fetchMarvel, MarvelSearchForm, ErrorDisplay} from '../marvel'\nimport '../02-styles.css'\n\nfunction useMarvelExist(marvelName) {\n  const [exist, setExist] = React.useState(false)\n\n  React.useEffect(() => {\n    if (!marvelName) {\n      return\n    }\n    setExist(false)\n    fetchMarvel(marvelName)\n      .then(() => setExist(true))\n      .catch(() => setExist(false))\n  }, [marvelName])\n\n  return exist\n}\n\nfunction Marvel({marvelName}) {\n  const marvelExist = useMarvelExist(marvelName)\n  return (\n    <div> {marvelExist ? `Le marvel existe` : `Le marvel n'existe pas`}</div>\n  )\n}\nfunction App() {\n  const [marvelName, setMarvelName] = React.useState('')\n  const handleSearch = name => {\n    setMarvelName(name)\n  }\n  return (\n    <div className=\"marvel-app\">\n      <MarvelSearchForm marvelName={marvelName} onSearch={handleSearch} />\n      <div className=\"marvel-detail\">\n        <ErrorBoundary key={marvelName} FallbackComponent={ErrorDisplay}>\n          <Marvel marvelName={marvelName} />\n        </ErrorBoundary>\n      </div>\n    </div>\n  )\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}