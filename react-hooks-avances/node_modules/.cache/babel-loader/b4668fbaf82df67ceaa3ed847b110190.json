{"ast":null,"code":"import _objectSpread from\"/home/floslv/Flo/Dev/Learning/MikeCodeur/react-hooks-avances/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/floslv/Flo/Dev/Learning/MikeCodeur/react-hooks-avances/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// useContext\n// ðŸš€ hook : context consumer\n// http://localhost:3000/alone/final/06.bonus-2.js\nimport*as React from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var themes={light:{ul:{listStyleType:'square'},li:{background:'#eeeeee',color:'#000000'},foreground:'#000000',background:'#eeeeee'},dark:{ul:{listStyleImage:\"url('https://www.w3schools.com/css/sqpurple.gif')\"},li:{background:'#222222',color:'white'},foreground:'#ffffff',background:'#222222'}};var ThemeContext=/*#__PURE__*/React.createContext();function ThemeProvider(props){var _React$useState=React.useState(themes.light),_React$useState2=_slicedToArray(_React$useState,2),theme=_React$useState2[0],setTheme=_React$useState2[1];var value=[theme,setTheme];// Ã©quivalent Ã \n// const value = React.useState()\nreturn/*#__PURE__*/_jsx(ThemeContext.Provider,_objectSpread({value:value},props));}function useTheme(){var context=React.useContext(ThemeContext);if(!context){throw new Error('useTheme doit etre dans ThemeProvider');}return context;}function Toolbar(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{}),/*#__PURE__*/_jsx(List,{})]});}function Button(){var _useTheme=useTheme(),_useTheme2=_slicedToArray(_useTheme,1),theme=_useTheme2[0];return/*#__PURE__*/_jsx(\"button\",{style:{background:theme.background,color:theme.foreground},children:\"Envoyer\"});}function List(){var _useTheme3=useTheme(),_useTheme4=_slicedToArray(_useTheme3,1),theme=_useTheme4[0];var items=['react','angular','vue'];return/*#__PURE__*/_jsx(\"ul\",{style:_objectSpread({},theme.ul),children:items.map(function(item,index){return/*#__PURE__*/_jsx(Item,{children:item},index);})});}function Item(_ref){var children=_ref.children;var _useTheme5=useTheme(),_useTheme6=_slicedToArray(_useTheme5,1),theme=_useTheme6[0];return/*#__PURE__*/_jsx(\"li\",{style:_objectSpread({},theme.li),children:children});}function CheckBox(){var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),darkMode=_React$useState4[0],setDarkMode=_React$useState4[1];var _useTheme7=useTheme(),_useTheme8=_slicedToArray(_useTheme7,2),theme=_useTheme8[0],setTheme=_useTheme8[1];var handleCheck=function handleCheck(e){setDarkMode(e.target.checked);setTheme(e.target.checked?themes.dark:themes.light);};return/*#__PURE__*/_jsxs(\"label\",{style:{background:theme.background,color:theme.foreground},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:darkMode,onChange:handleCheck}),' ',\"utiliser le DarkMode ?\"]});}function App(){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(ThemeProvider,{children:[/*#__PURE__*/_jsx(CheckBox,{}),/*#__PURE__*/_jsx(Toolbar,{})]})});}export default App;","map":{"version":3,"sources":["/home/floslv/Flo/Dev/Learning/MikeCodeur/react-hooks-avances/src/final/06.bonus-2.js"],"names":["React","themes","light","ul","listStyleType","li","background","color","foreground","dark","listStyleImage","ThemeContext","createContext","ThemeProvider","props","useState","theme","setTheme","value","useTheme","context","useContext","Error","Toolbar","Button","List","items","map","item","index","Item","children","CheckBox","darkMode","setDarkMode","handleCheck","e","target","checked","App"],"mappings":"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","sourcesContent":["// useContext\n// ðŸš€ hook : context consumer\n// http://localhost:3000/alone/final/06.bonus-2.js\n\nimport * as React from 'react'\n\nconst themes = {\n  light: {\n    ul: {listStyleType: 'square'},\n    li: {background: '#eeeeee', color: '#000000'},\n    foreground: '#000000',\n    background: '#eeeeee',\n  },\n  dark: {\n    ul: {listStyleImage: \"url('https://www.w3schools.com/css/sqpurple.gif')\"},\n    li: {background: '#222222', color: 'white'},\n    foreground: '#ffffff',\n    background: '#222222',\n  },\n}\n\nconst ThemeContext = React.createContext()\n\nfunction ThemeProvider(props) {\n  const [theme, setTheme] = React.useState(themes.light)\n  const value = [theme, setTheme]\n  // Ã©quivalent Ã \n  // const value = React.useState()\n  return <ThemeContext.Provider value={value} {...props} />\n}\n\nfunction useTheme() {\n  const context = React.useContext(ThemeContext)\n  if (!context) {\n    throw new Error('useTheme doit etre dans ThemeProvider')\n  }\n  return context\n}\n\nfunction Toolbar() {\n  return (\n    <div>\n      <Button />\n      <List />\n    </div>\n  )\n}\nfunction Button() {\n  const [theme] = useTheme()\n  return (\n    <button style={{background: theme.background, color: theme.foreground}}>\n      Envoyer\n    </button>\n  )\n}\nfunction List() {\n  const [theme] = useTheme()\n  const items = ['react', 'angular', 'vue']\n  return (\n    <ul style={{...theme.ul}}>\n      {items.map((item, index) => {\n        return <Item key={index}>{item}</Item>\n      })}\n    </ul>\n  )\n}\nfunction Item({children}) {\n  const [theme] = useTheme()\n  return <li style={{...theme.li}}>{children}</li>\n}\n\nfunction CheckBox() {\n  const [darkMode, setDarkMode] = React.useState(false)\n  const [theme, setTheme] = useTheme()\n  const handleCheck = e => {\n    setDarkMode(e.target.checked)\n    setTheme(e.target.checked ? themes.dark : themes.light)\n  }\n  return (\n    <label style={{background: theme.background, color: theme.foreground}}>\n      <input type=\"checkbox\" checked={darkMode} onChange={handleCheck} />{' '}\n      utiliser le DarkMode ?\n    </label>\n  )\n}\nfunction App() {\n  return (\n    <div>\n      <ThemeProvider>\n        <CheckBox />\n        <Toolbar />\n      </ThemeProvider>\n    </div>\n  )\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}