{"ast":null,"code":"import _slicedToArray from\"/home/floslv/Flo/Dev/Learning/MikeCodeur/react-hooks-avances/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// useImperativeHandle\n// http://localhost:3000/alone/final/05.js\nimport*as React from'react';import'../04-styles.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Composant=/*#__PURE__*/React.forwardRef(function Composant(_ref,ref){var onsubmit=_ref.onsubmit;var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),value=_React$useState2[0],setValue=_React$useState2[1];var inputRef=React.useRef();var buttonRef=React.useRef();function focusInput(){inputRef.current.focus();}function focusButton(){buttonRef.current.focus();}React.useImperativeHandle(ref,function(){return{focusInput:focusInput,focusButton:focusButton};});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{ref:inputRef,type:\"text\",value:value,onChange:function onChange(e){return setValue(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{ref:buttonRef,type:\"button\",value:'submit',onClick:function onClick(){return onsubmit(value);}})]});});function App(){var composantRef=React.useRef();var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),setValue=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),checked=_React$useState6[0],setChecked=_React$useState6[1];var focusInput=function focusInput(){return composantRef.current.focusInput();};var focusButton=function focusButton(){return composantRef.current.focusButton();};var handleCheck=function handleCheck(e){setChecked(e.target.checked);e.target.checked?focusInput():focusButton();};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Composant,{ref:composantRef,onsubmit:setValue}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:checked,onChange:handleCheck}),\" Focus sur input / button ?\"]})]});}export default App;","map":{"version":3,"sources":["/home/floslv/Flo/Dev/Learning/MikeCodeur/react-hooks-avances/src/final/05.js"],"names":["React","Composant","forwardRef","ref","onsubmit","useState","value","setValue","inputRef","useRef","buttonRef","focusInput","current","focus","focusButton","useImperativeHandle","e","target","App","composantRef","checked","setChecked","handleCheck"],"mappings":"mLAAA;AACA;AAEA,MAAO,GAAKA,CAAAA,KAAZ,KAAuB,OAAvB,CACA,MAAO,kBAAP,C,wFAEA,GAAMC,CAAAA,SAAS,cAAGD,KAAK,CAACE,UAAN,CAAiB,QAASD,CAAAA,SAAT,MAA+BE,GAA/B,CAAoC,IAAhBC,CAAAA,QAAgB,MAAhBA,QAAgB,CACrE,oBAA0BJ,KAAK,CAACK,QAAN,CAAe,EAAf,CAA1B,oDAAOC,KAAP,qBAAcC,QAAd,qBACA,GAAMC,CAAAA,QAAQ,CAAGR,KAAK,CAACS,MAAN,EAAjB,CACA,GAAMC,CAAAA,SAAS,CAAGV,KAAK,CAACS,MAAN,EAAlB,CAEA,QAASE,CAAAA,UAAT,EAAsB,CACpBH,QAAQ,CAACI,OAAT,CAAiBC,KAAjB,GACD,CACD,QAASC,CAAAA,WAAT,EAAuB,CACrBJ,SAAS,CAACE,OAAV,CAAkBC,KAAlB,GACD,CAEDb,KAAK,CAACe,mBAAN,CAA0BZ,GAA1B,CAA+B,iBAAO,CACpCQ,UAAU,CAAVA,UADoC,CAEpCG,WAAW,CAAXA,WAFoC,CAAP,EAA/B,EAKA,mBACE,oCACE,cACE,GAAG,CAAEN,QADP,CAEE,IAAI,CAAC,MAFP,CAGE,KAAK,CAAEF,KAHT,CAIE,QAAQ,CAAE,kBAAAU,CAAC,QAAIT,CAAAA,QAAQ,CAACS,CAAC,CAACC,MAAF,CAASX,KAAV,CAAZ,EAJb,EADF,cAOE,cACE,GAAG,CAAEI,SADP,CAEE,IAAI,CAAC,QAFP,CAGE,KAAK,CAAE,QAHT,CAIE,OAAO,CAAE,yBAAMN,CAAAA,QAAQ,CAACE,KAAD,CAAd,EAJX,EAPF,GADF,CAgBD,CAjCiB,CAAlB,CAmCA,QAASY,CAAAA,GAAT,EAAe,CACb,GAAMC,CAAAA,YAAY,CAAGnB,KAAK,CAACS,MAAN,EAArB,CACA,qBAAqBT,KAAK,CAACK,QAAN,CAAe,EAAf,CAArB,qDAASE,QAAT,qBACA,qBAA8BP,KAAK,CAACK,QAAN,CAAe,EAAf,CAA9B,qDAAOe,OAAP,qBAAgBC,UAAhB,qBAEA,GAAMV,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,SAAMQ,CAAAA,YAAY,CAACP,OAAb,CAAqBD,UAArB,EAAN,EAAnB,CACA,GAAMG,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,SAAMK,CAAAA,YAAY,CAACP,OAAb,CAAqBE,WAArB,EAAN,EAApB,CAEA,GAAMQ,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAAN,CAAC,CAAI,CACvBK,UAAU,CAACL,CAAC,CAACC,MAAF,CAASG,OAAV,CAAV,CACAJ,CAAC,CAACC,MAAF,CAASG,OAAT,CAAmBT,UAAU,EAA7B,CAAkCG,WAAW,EAA7C,CACD,CAHD,CAIA,mBACE,oCACE,KAAC,SAAD,EAAW,GAAG,CAAEK,YAAhB,CAA8B,QAAQ,CAAEZ,QAAxC,EADF,cAEE,sCACE,cAAO,IAAI,CAAC,UAAZ,CAAuB,OAAO,CAAEa,OAAhC,CAAyC,QAAQ,CAAEE,WAAnD,EADF,iCAFF,GADF,CASD,CAED,cAAeJ,CAAAA,GAAf","sourcesContent":["// useImperativeHandle\n// http://localhost:3000/alone/final/05.js\n\nimport * as React from 'react'\nimport '../04-styles.css'\n\nconst Composant = React.forwardRef(function Composant({onsubmit}, ref) {\n  const [value, setValue] = React.useState('')\n  const inputRef = React.useRef()\n  const buttonRef = React.useRef()\n\n  function focusInput() {\n    inputRef.current.focus()\n  }\n  function focusButton() {\n    buttonRef.current.focus()\n  }\n\n  React.useImperativeHandle(ref, () => ({\n    focusInput,\n    focusButton,\n  }))\n\n  return (\n    <div>\n      <input\n        ref={inputRef}\n        type=\"text\"\n        value={value}\n        onChange={e => setValue(e.target.value)}\n      ></input>\n      <input\n        ref={buttonRef}\n        type=\"button\"\n        value={'submit'}\n        onClick={() => onsubmit(value)}\n      ></input>\n    </div>\n  )\n})\n\nfunction App() {\n  const composantRef = React.useRef()\n  const [, setValue] = React.useState('')\n  const [checked, setChecked] = React.useState('')\n\n  const focusInput = () => composantRef.current.focusInput()\n  const focusButton = () => composantRef.current.focusButton()\n\n  const handleCheck = e => {\n    setChecked(e.target.checked)\n    e.target.checked ? focusInput() : focusButton()\n  }\n  return (\n    <div>\n      <Composant ref={composantRef} onsubmit={setValue} />\n      <label>\n        <input type=\"checkbox\" checked={checked} onChange={handleCheck} /> Focus\n        sur input / button ?\n      </label>\n    </div>\n  )\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}