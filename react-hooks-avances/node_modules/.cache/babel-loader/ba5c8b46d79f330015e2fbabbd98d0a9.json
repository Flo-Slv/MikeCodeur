{"ast":null,"code":"import _slicedToArray from\"/home/floslv/Flo/Dev/Learning/MikeCodeur/react-hooks-avances/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// Hook personnalisÃ©\n// ðŸš€ Hook avec personnage / Error\n// http://localhost:3000/alone/final/02.bonus-1.js\nimport*as React from'react';import{ErrorBoundary}from'react-error-boundary';import{fetchMarvel,MarvelSearchForm,ErrorDisplay}from'../marvel';import'../02-styles.css';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function useFindMarvelByName(marvelName){var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),marvel=_React$useState2[0],setMarvel=_React$useState2[1];var _React$useState3=React.useState(null),_React$useState4=_slicedToArray(_React$useState3,2),error=_React$useState4[0],setError=_React$useState4[1];React.useEffect(function(){if(!marvelName){return;}setError(null);setMarvel(null);fetchMarvel(marvelName).then(function(marvel){return setMarvel(marvel);})[\"catch\"](function(error){return setError(error);});},[marvelName]);return[marvel,error];}function Marvel(_ref){var marvelName=_ref.marvelName;var _useFindMarvelByName=useFindMarvelByName(marvelName),_useFindMarvelByName2=_slicedToArray(_useFindMarvelByName,2),marvel=_useFindMarvelByName2[0],error=_useFindMarvelByName2[1];if(error){throw error;}return/*#__PURE__*/_jsxs(\"div\",{children:[' ',marvel?\"Le marvel existe \".concat(marvel.name):\"Le marvel n'existe pas\"]});}function App(){var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),marvelName=_React$useState6[0],setMarvelName=_React$useState6[1];var handleSearch=function handleSearch(name){setMarvelName(name);};return/*#__PURE__*/_jsxs(\"div\",{className:\"marvel-app\",children:[/*#__PURE__*/_jsx(MarvelSearchForm,{marvelName:marvelName,onSearch:handleSearch}),/*#__PURE__*/_jsx(\"div\",{className:\"marvel-detail\",children:/*#__PURE__*/_jsx(ErrorBoundary,{FallbackComponent:ErrorDisplay,children:/*#__PURE__*/_jsx(Marvel,{marvelName:marvelName})},marvelName)})]});}export default App;","map":{"version":3,"sources":["/home/floslv/Flo/Dev/Learning/MikeCodeur/react-hooks-avances/src/final/02.bonus-1.js"],"names":["React","ErrorBoundary","fetchMarvel","MarvelSearchForm","ErrorDisplay","useFindMarvelByName","marvelName","useState","marvel","setMarvel","error","setError","useEffect","then","Marvel","name","App","setMarvelName","handleSearch"],"mappings":"mLAAA;AACA;AACA;AAEA,MAAO,GAAKA,CAAAA,KAAZ,KAAuB,OAAvB,CACA,OAAQC,aAAR,KAA4B,sBAA5B,CACA,OAAQC,WAAR,CAAqBC,gBAArB,CAAuCC,YAAvC,KAA0D,WAA1D,CACA,MAAO,kBAAP,C,wFAEA,QAASC,CAAAA,mBAAT,CAA6BC,UAA7B,CAAyC,CACvC,oBAA4BN,KAAK,CAACO,QAAN,EAA5B,oDAAOC,MAAP,qBAAeC,SAAf,qBACA,qBAA0BT,KAAK,CAACO,QAAN,CAAe,IAAf,CAA1B,qDAAOG,KAAP,qBAAcC,QAAd,qBAEAX,KAAK,CAACY,SAAN,CAAgB,UAAM,CACpB,GAAI,CAACN,UAAL,CAAiB,CACf,OACD,CACDK,QAAQ,CAAC,IAAD,CAAR,CACAF,SAAS,CAAC,IAAD,CAAT,CACAP,WAAW,CAACI,UAAD,CAAX,CACGO,IADH,CACQ,SAAAL,MAAM,QAAIC,CAAAA,SAAS,CAACD,MAAD,CAAb,EADd,WAES,SAAAE,KAAK,QAAIC,CAAAA,QAAQ,CAACD,KAAD,CAAZ,EAFd,EAGD,CATD,CASG,CAACJ,UAAD,CATH,EAWA,MAAO,CAACE,MAAD,CAASE,KAAT,CAAP,CACD,CAED,QAASI,CAAAA,MAAT,MAA8B,IAAbR,CAAAA,UAAa,MAAbA,UAAa,CAC5B,yBAAwBD,mBAAmB,CAACC,UAAD,CAA3C,8DAAOE,MAAP,0BAAeE,KAAf,0BACA,GAAIA,KAAJ,CAAW,CACT,KAAMA,CAAAA,KAAN,CACD,CACD,mBACE,uBACG,GADH,CAEGF,MAAM,4BAAuBA,MAAM,CAACO,IAA9B,0BAFT,GADF,CAMD,CACD,QAASC,CAAAA,GAAT,EAAe,CACb,qBAAoChB,KAAK,CAACO,QAAN,CAAe,EAAf,CAApC,qDAAOD,UAAP,qBAAmBW,aAAnB,qBACA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAH,IAAI,CAAI,CAC3BE,aAAa,CAACF,IAAD,CAAb,CACD,CAFD,CAGA,mBACE,aAAK,SAAS,CAAC,YAAf,wBACE,KAAC,gBAAD,EAAkB,UAAU,CAAET,UAA9B,CAA0C,QAAQ,CAAEY,YAApD,EADF,cAEE,YAAK,SAAS,CAAC,eAAf,uBACE,KAAC,aAAD,EAAgC,iBAAiB,CAAEd,YAAnD,uBACE,KAAC,MAAD,EAAQ,UAAU,CAAEE,UAApB,EADF,EAAoBA,UAApB,CADF,EAFF,GADF,CAUD,CAED,cAAeU,CAAAA,GAAf","sourcesContent":["// Hook personnalisÃ©\n// ðŸš€ Hook avec personnage / Error\n// http://localhost:3000/alone/final/02.bonus-1.js\n\nimport * as React from 'react'\nimport {ErrorBoundary} from 'react-error-boundary'\nimport {fetchMarvel, MarvelSearchForm, ErrorDisplay} from '../marvel'\nimport '../02-styles.css'\n\nfunction useFindMarvelByName(marvelName) {\n  const [marvel, setMarvel] = React.useState()\n  const [error, setError] = React.useState(null)\n\n  React.useEffect(() => {\n    if (!marvelName) {\n      return\n    }\n    setError(null)\n    setMarvel(null)\n    fetchMarvel(marvelName)\n      .then(marvel => setMarvel(marvel))\n      .catch(error => setError(error))\n  }, [marvelName])\n\n  return [marvel, error]\n}\n\nfunction Marvel({marvelName}) {\n  const [marvel, error] = useFindMarvelByName(marvelName)\n  if (error) {\n    throw error\n  }\n  return (\n    <div>\n      {' '}\n      {marvel ? `Le marvel existe ${marvel.name}` : `Le marvel n'existe pas`}\n    </div>\n  )\n}\nfunction App() {\n  const [marvelName, setMarvelName] = React.useState('')\n  const handleSearch = name => {\n    setMarvelName(name)\n  }\n  return (\n    <div className=\"marvel-app\">\n      <MarvelSearchForm marvelName={marvelName} onSearch={handleSearch} />\n      <div className=\"marvel-detail\">\n        <ErrorBoundary key={marvelName} FallbackComponent={ErrorDisplay}>\n          <Marvel marvelName={marvelName} />\n        </ErrorBoundary>\n      </div>\n    </div>\n  )\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}