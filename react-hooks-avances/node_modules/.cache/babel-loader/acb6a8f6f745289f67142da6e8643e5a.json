{"ast":null,"code":"import _slicedToArray from\"/home/floslv/Flo/Dev/Learning/MikeCodeur/react-hooks-avances/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// useContexte\n// üöÄ G√©rer le cache avec le contexte\n// http://localhost:3000/alone/exercise/06.bonus-3.js\n/* eslint-disable no-unused-vars */import*as React from'react';import{ErrorBoundary}from'react-error-boundary';import{fetchMarvel,fetchMarvelById,fetchMarvelsList,MarvelSearchForm,ErrorDisplay,MarvelPersoView}from'../marvel';import'../02-styles.css';// üê∂ Cr√©√© un context 'MarvelCacheContext' avec `React.createContext()`\n// üê∂ Cr√©√© un reducer 'marvelCacheReducer' pour g√©rer les donn√©es en cache\n// ü§ñ utilise une fonction de ce style :\n//\n// function marvelCacheReducer(state, action) {\n//   switch (action.type) {\n//     case 'ADD_MARVEL': {\n//       return {...state, [action.marvelName]: action.marvelData}\n//     }\n//     case 'ADD_MARVEL_LIST': {\n//       return {...state, [`${action.marvelName}-list`]: action.marvelData}\n//     }\n//     default: {\n//       throw new Error(`action impossible: ${action.type}`)\n//     }\n//   }\n// }\n// üê∂ Cr√©√© un Context Provider 'MarvelCacheProvider'\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function MarvelCacheProvider(props){// üê∂ Utlise le 'marvelCacheReducer' avec `React.useReducer`\n// ü§ñ const [cache, dispatch] = React.useReducer(marvelCacheReducer, {})\n// üê∂ Retourne le provider avec les donn√©es du reducer\n// ü§ñ return <MarvelCacheContext.Provider value={[cache, dispatch]} {...props} />\n}// üê∂ Cr√©e un Context Consumer 'useMarvelCache'\nfunction useMarvelCache(){// üê∂ Utlise le contexte 'MarvelCacheContext' avec `React.useContext(MarvelCacheContext)`\n// ü§ñ g√®re le cas ou 'useMarvelCache' n'est pas utilis√© avec le provider\n// if (!context) {\n//   throw new Error('useMarvelCache doit √™tre utilis√© avec MarvelCacheProvider')\n// }\n// return context\n}var reducer=function reducer(state,action){switch(action.type){case'fetching':return{status:'fetching',data:null,error:null};case'done':return{status:'done',data:action.payload,error:null};case'fail':return{status:'fail',data:null,error:action.error};default:throw new Error('Action non support√©');}};// üê∂ Evolution de 'useFetchData' pour pourvoir mettre √† jour les donn√©es avec `setData`\nfunction useFetchData(){var _React$useReducer=React.useReducer(reducer,{data:null,error:null,status:'idle'}),_React$useReducer2=_slicedToArray(_React$useReducer,2),state=_React$useReducer2[0],dispatch=_React$useReducer2[1];var data=state.data,error=state.error,status=state.status;var execute=React.useCallback(function(promise){dispatch({type:'fetching'});promise.then(function(marvel){return dispatch({type:'done',payload:marvel});})[\"catch\"](function(error){return dispatch({type:'fail',error:error});});},[]);// üê∂ Dans le cas o√π l'on n'appelle pas d'API Rest (execute) on doit\n// pourvoir mettre √† jour des donn√©es.\n// Pour cela on va retourner un callback 'setData' qui mettra √† jour les data.\n// ü§ñ\n// const setData = React.useCallback(\n//   data => dispatch({type: 'done', payload: data}),\n//   [dispatch],\n// )\n// üê∂ pense √† retouner aussi setData pour pouvoir l'utiliser dans les hooks ci-dessous\nreturn{data:data,error:error,status:status,execute:execute};}// üê∂ Fais √©voluer ce hook pour g√©rer le cache\nfunction useFindMarvelList(marvelName){// üê∂ utilise le hook 'useMarvelCache'\n// ü§ñ const [cache, dispatch] = useMarvelCache()\n// üê∂ ajoute 'setData'\nvar _useFetchData=useFetchData(),data=_useFetchData.data,error=_useFetchData.error,status=_useFetchData.status,execute=_useFetchData.execute;React.useEffect(function(){if(!marvelName){return;}// üê∂ ajoute deux conditions :\n// 1. S'il y a des donn√©es dans : `cache[marvelName]`\n// met √† jour les donn√©es directement avec `setData(cache[marvelName])`\n// 2. sinon (`cache[marvelName]` est vide )\n// Appel l'API Rest\n// `execute(fetchMarvelsList(marvelName))`\nexecute(fetchMarvelsList(marvelName));// üê∂ N'oublie pas les nouvelles d√©pendances de 'useEffect'\n},[marvelName,execute]);return{data:data,error:error,status:status};}// üê∂ Fais √©voluer ce hook pour g√©rer le cache\nfunction useFindMarvelByName(marvelName){var _useFetchData2=useFetchData(),data=_useFetchData2.data,error=_useFetchData2.error,status=_useFetchData2.status,execute=_useFetchData2.execute;React.useEffect(function(){if(!marvelName){return;}execute(fetchMarvel(marvelName));},[marvelName,execute]);return{data:data,error:error,status:status};}function Marvel(_ref){var marvelName=_ref.marvelName;var state=useFindMarvelByName(marvelName,fetchMarvelById);var marvel=state.data,error=state.error,status=state.status;if(status==='fail'){throw error;}else if(status==='idle'){return'enter un nom de Marvel';}else if(status==='fetching'){return'chargement en cours ...';}else if(status==='done'){return/*#__PURE__*/_jsx(MarvelPersoView,{marvel:marvel});}}function MarvelList(_ref2){var marvelName=_ref2.marvelName;var state=useFindMarvelList(marvelName,fetchMarvelById);var marvels=state.data,error=state.error,status=state.status;if(status==='fail'){throw error;}else if(status==='idle'){return'enter un nom de Marvel';}else if(status==='fetching'){return'chargement en cours ...';}else if(status==='done'){return/*#__PURE__*/_jsx(_Fragment,{children:marvels.map(function(marvel){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"hr\",{style:{background:'grey'}}),/*#__PURE__*/_jsx(MarvelPersoView,{marvel:marvel})]},marvel.id);})});}}function App(){var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),marvelName=_React$useState2[0],setMarvelName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),searchList=_React$useState4[0],setSearchList=_React$useState4[1];var handleSearch=function handleSearch(name){setMarvelName(name);};return/*#__PURE__*/_jsxs(\"div\",{className:\"marvel-app\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:searchList,onChange:function onChange(e){return setSearchList(e.target.checked);}}),' ',\"Chercher une liste ?\"]}),/*#__PURE__*/_jsx(MarvelSearchForm,{marvelName:marvelName,onSearch:handleSearch}),/*#__PURE__*/_jsx(\"div\",{className:\"marvel-detail\",children:/*#__PURE__*/_jsx(ErrorBoundary,{FallbackComponent:ErrorDisplay,children:searchList?/*#__PURE__*/_jsx(MarvelList,{marvelName:marvelName}):/*#__PURE__*/_jsx(Marvel,{marvelName:marvelName})},marvelName)})]});}export default App;","map":{"version":3,"sources":["/home/floslv/Flo/Dev/Learning/MikeCodeur/react-hooks-avances/src/exercise/06.bonus-3.js"],"names":["React","ErrorBoundary","fetchMarvel","fetchMarvelById","fetchMarvelsList","MarvelSearchForm","ErrorDisplay","MarvelPersoView","MarvelCacheProvider","props","useMarvelCache","reducer","state","action","type","status","data","error","payload","Error","useFetchData","useReducer","dispatch","execute","useCallback","promise","then","marvel","useFindMarvelList","marvelName","useEffect","useFindMarvelByName","Marvel","MarvelList","marvels","map","background","id","App","useState","setMarvelName","searchList","setSearchList","handleSearch","name","e","target","checked"],"mappings":"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","sourcesContent":["// useContexte\n// üöÄ G√©rer le cache avec le contexte\n// http://localhost:3000/alone/exercise/06.bonus-3.js\n\n/* eslint-disable no-unused-vars */\nimport * as React from 'react'\nimport {ErrorBoundary} from 'react-error-boundary'\nimport {\n  fetchMarvel,\n  fetchMarvelById,\n  fetchMarvelsList,\n  MarvelSearchForm,\n  ErrorDisplay,\n  MarvelPersoView,\n} from '../marvel'\nimport '../02-styles.css'\n\n// üê∂ Cr√©√© un context 'MarvelCacheContext' avec `React.createContext()`\n\n// üê∂ Cr√©√© un reducer 'marvelCacheReducer' pour g√©rer les donn√©es en cache\n// ü§ñ utilise une fonction de ce style :\n//\n// function marvelCacheReducer(state, action) {\n//   switch (action.type) {\n//     case 'ADD_MARVEL': {\n//       return {...state, [action.marvelName]: action.marvelData}\n//     }\n//     case 'ADD_MARVEL_LIST': {\n//       return {...state, [`${action.marvelName}-list`]: action.marvelData}\n//     }\n//     default: {\n//       throw new Error(`action impossible: ${action.type}`)\n//     }\n//   }\n// }\n\n// üê∂ Cr√©√© un Context Provider 'MarvelCacheProvider'\nfunction MarvelCacheProvider(props) {\n  // üê∂ Utlise le 'marvelCacheReducer' avec `React.useReducer`\n  // ü§ñ const [cache, dispatch] = React.useReducer(marvelCacheReducer, {})\n  // üê∂ Retourne le provider avec les donn√©es du reducer\n  // ü§ñ return <MarvelCacheContext.Provider value={[cache, dispatch]} {...props} />\n}\n\n// üê∂ Cr√©e un Context Consumer 'useMarvelCache'\nfunction useMarvelCache() {\n  // üê∂ Utlise le contexte 'MarvelCacheContext' avec `React.useContext(MarvelCacheContext)`\n  // ü§ñ g√®re le cas ou 'useMarvelCache' n'est pas utilis√© avec le provider\n  // if (!context) {\n  //   throw new Error('useMarvelCache doit √™tre utilis√© avec MarvelCacheProvider')\n  // }\n  // return context\n}\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'fetching':\n      return {status: 'fetching', data: null, error: null}\n    case 'done':\n      return {status: 'done', data: action.payload, error: null}\n    case 'fail':\n      return {status: 'fail', data: null, error: action.error}\n    default:\n      throw new Error('Action non support√©')\n  }\n}\n\n// üê∂ Evolution de 'useFetchData' pour pourvoir mettre √† jour les donn√©es avec `setData`\nfunction useFetchData() {\n  const [state, dispatch] = React.useReducer(reducer, {\n    data: null,\n    error: null,\n    status: 'idle',\n  })\n  const {data, error, status} = state\n\n  const execute = React.useCallback(promise => {\n    dispatch({type: 'fetching'})\n    promise\n      .then(marvel => dispatch({type: 'done', payload: marvel}))\n      .catch(error => dispatch({type: 'fail', error}))\n  }, [])\n\n  // üê∂ Dans le cas o√π l'on n'appelle pas d'API Rest (execute) on doit\n  // pourvoir mettre √† jour des donn√©es.\n  // Pour cela on va retourner un callback 'setData' qui mettra √† jour les data.\n  // ü§ñ\n  // const setData = React.useCallback(\n  //   data => dispatch({type: 'done', payload: data}),\n  //   [dispatch],\n  // )\n\n  // üê∂ pense √† retouner aussi setData pour pouvoir l'utiliser dans les hooks ci-dessous\n  return {data, error, status, execute}\n}\n\n// üê∂ Fais √©voluer ce hook pour g√©rer le cache\nfunction useFindMarvelList(marvelName) {\n  // üê∂ utilise le hook 'useMarvelCache'\n  // ü§ñ const [cache, dispatch] = useMarvelCache()\n\n  // üê∂ ajoute 'setData'\n  const {data, error, status, execute} = useFetchData()\n\n  React.useEffect(() => {\n    if (!marvelName) {\n      return\n    }\n    // üê∂ ajoute deux conditions :\n    // 1. S'il y a des donn√©es dans : `cache[marvelName]`\n    // met √† jour les donn√©es directement avec `setData(cache[marvelName])`\n    // 2. sinon (`cache[marvelName]` est vide )\n    // Appel l'API Rest\n    // `execute(fetchMarvelsList(marvelName))`\n    execute(fetchMarvelsList(marvelName))\n    // üê∂ N'oublie pas les nouvelles d√©pendances de 'useEffect'\n  }, [marvelName, execute])\n  return {data, error, status}\n}\n\n// üê∂ Fais √©voluer ce hook pour g√©rer le cache\nfunction useFindMarvelByName(marvelName) {\n  const {data, error, status, execute} = useFetchData()\n  React.useEffect(() => {\n    if (!marvelName) {\n      return\n    }\n    execute(fetchMarvel(marvelName))\n  }, [marvelName, execute])\n  return {data, error, status}\n}\n\nfunction Marvel({marvelName}) {\n  const state = useFindMarvelByName(marvelName, fetchMarvelById)\n\n  const {data: marvel, error, status} = state\n  if (status === 'fail') {\n    throw error\n  } else if (status === 'idle') {\n    return 'enter un nom de Marvel'\n  } else if (status === 'fetching') {\n    return 'chargement en cours ...'\n  } else if (status === 'done') {\n    return <MarvelPersoView marvel={marvel} />\n  }\n}\n\nfunction MarvelList({marvelName}) {\n  const state = useFindMarvelList(marvelName, fetchMarvelById)\n  const {data: marvels, error, status} = state\n  if (status === 'fail') {\n    throw error\n  } else if (status === 'idle') {\n    return 'enter un nom de Marvel'\n  } else if (status === 'fetching') {\n    return 'chargement en cours ...'\n  } else if (status === 'done') {\n    return (\n      <>\n        {marvels.map(marvel => {\n          return (\n            <div key={marvel.id}>\n              <hr style={{background: 'grey'}} />\n              <MarvelPersoView marvel={marvel} />\n            </div>\n          )\n        })}\n      </>\n    )\n  }\n}\n\nfunction App() {\n  const [marvelName, setMarvelName] = React.useState('')\n  const [searchList, setSearchList] = React.useState('')\n  const handleSearch = name => {\n    setMarvelName(name)\n  }\n  return (\n    <div className=\"marvel-app\">\n      <label>\n        <input\n          type=\"checkbox\"\n          checked={searchList}\n          onChange={e => setSearchList(e.target.checked)}\n        />{' '}\n        Chercher une liste ?\n      </label>\n      <MarvelSearchForm marvelName={marvelName} onSearch={handleSearch} />\n      {/* üê∂ Pense √† wrapper avec <MarvelCacheProvider> */}\n      <div className=\"marvel-detail\">\n        <ErrorBoundary key={marvelName} FallbackComponent={ErrorDisplay}>\n          {searchList ? (\n            <MarvelList marvelName={marvelName} />\n          ) : (\n            <Marvel marvelName={marvelName} />\n          )}\n        </ErrorBoundary>\n      </div>\n    </div>\n  )\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}